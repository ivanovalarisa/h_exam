"use strict";function getStringObjAndPars(){var t=localStorage.getItem("dataCart");showOrderTab(JSON.parse(t))}function showOrderTab(t){var e,n=document.getElementById("orderTab"),a=document.createElement("div");a.setAttribute("class","order_box"),a.insertAdjacentHTML("afterbegin",'\n                          <h2>Your Order</h2>\n                          <ul class="list">\n                              '.concat((e=' <table class="table table-sm">\n                          <thead>\n                            <tr>\n                              <th scope="col">Name</th>\n                              <th scope="col">Collection</th>\n                              <th scope="col">Size</th>\n                              <th scope="col">Price</th>\n                              <th scope="col">Count</th>\n                            </tr>\n                          </thead>\n                          <tbody>',t.forEach(function(t){e+="<tr>\n                          <td>".concat(t.name,"</td>\n                          <td>").concat(t.collection,"</td>\n                          <td>").concat(t.size,"</td>\n                          <td>").concat(t.price,"</td>\n                          <td>").concat(t.quantity,"</td>\n                        </tr>")}),e+=" </tbody></table>"),'\n                          </ul>\n                          <ul class="list `list_2`">\n                          ').concat(orderHeard(t),'\n                          </ul>\n                          <div id="checkLine" class="last">Check if all fields are entered correctly</div>\n                          <div class="text-center">\n                              <a id="btnConfirm" class="button button-paypal" href="#">Confirm</a>\n                          </div>\n                            ')),n.appendChild(a),showOrderFormInput(t)}function orderHeard(t){var a=0;return t.forEach(function(t){var e=Number.parseInt(t.price),n=Number.parseInt(t.quantity);a+=n*e,0}),'<li><a href="#">Subtotal <span>$'.concat(a.toFixed(2),'</span></a></li>\n                <li><a href="#">Shipping <span>$').concat((0).toFixed(2),'</span></a></li>\n                <li><a href="#">Total <span>$').concat((a+0).toFixed(2),"</span></a></li>")}function showOrderFormInput(v){var p={2:"Kiev",3:"Kharkov",4:"Odessa",5:"Lugansk",6:"Donetsk",7:"Krivoy Rog",8:"Nikolaev"};function b(t,e){return t?e.classList.remove("errorTextInvisible"):e.classList.add("errorTextInvisible"),!t}document.getElementById("btnConfirm").addEventListener("click",function(){var t=!0,e=document.forms.orderForm,n=e.elements.firstName.value,a=document.getElementById("errorTextFirstName");b(null===n.match(/^['A-Za-z\u0410-\u044F]['\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/),a)||(t=!1);var o=e.elements.lastName.value,c=document.getElementById("errorTextLastName");b(null===o.match(/^['A-Za-z\u0410-\u044F]['\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]?$/),c)||(t=!1);var r=e.elements.number.value,s=document.getElementById("errorTextPhoneNumber");b(null===r.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/),s)||(t=!1);var l=e.elements.email.value,d=document.getElementById("errorTextEmail");b(null===l.match(/^\w{1,20}[@]?[a-z]{1,6}[.]?[a-z]{1,5}$/),d)||(t=!1);var i=e.elements.citySelect.value;console.log(i),b("1"===i,document.getElementById("errorTextCity"))||(t=!1);var u=p[i];console.log(u);var m=e.elements.newPostOffice.value,h=document.getElementById("errorTextPostOffice");b(null===m.match(/[№]?[0-9]{1,4}/g),h)||(t=!1);e.elements.message.value;showOrderResult(n,o,r,l,u,m,v,t)})}function showOrderResult(t,e,n,a,o,c,r,s){if(s){var l=document.getElementById("orderResult"),d=document.getElementById("orderNumber"),i=$("#resultModal").on("hidden.bs.modal",function(){localStorage.removeItem("dataCart"),document.location.href="/"});d.innerText="12345";var u='<h5>Сustomer information: </h5>\n                        <div class="col-"> <span class="captionOrderResult">First name: </span> '.concat(t,'</div>\n                        <div class="col-"> <span class="captionOrderResult">Last name: </span>').concat(e,'</div>\n                        <div class="col-"> <span class="captionOrderResult">Phone: </span>').concat(n,'</div>\n                        <div class="col-"> <span class="captionOrderResult">mail: </span>').concat(a,'</div>\n                        <div class="col-"> <span class="captionOrderResult">City: </span>').concat(o,'</div>\n                        <div class="col-"> <span class="captionOrderResult">Post number: </span>').concat(c,'</div>\n                        <div class="col-"> </div>\n                        <div class="col-"> <table class="table table-sm">\n                          <thead>\n                            <tr>\n                              <th scope="col">Name</th>\n                              <th scope="col">Collection</th>\n                              <th scope="col">Size</th>\n                              <th scope="col">Price</th>\n                              <th scope="col">Count</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                          <h5 class="headlineOrderResult">Product information: </h5>');r.forEach(function(t){u+='\n                        <tr>\n                          <th scope="row">'.concat(t.name,"</th>\n                          <td>").concat(t.collection,"</td>\n                          <td>").concat(t.size,"</td>\n                          <td>").concat(t.price,"</td>\n                          <td>").concat(t.quantity,"</td>\n                        </tr>")}),u+='</tbody></table></div>\n                    <ul class="list `list_2`">\n                         '.concat(orderHeard(r),'\n                    </ul>\n                    <div class="col-">Our manager will phone you as soon as possible. Best regards</div>'),l.innerHTML=u,i.modal("show")}}getStringObjAndPars();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyX2Zvcm0uanMiXSwibmFtZXMiOlsiZ2V0U3RyaW5nT2JqQW5kUGFycyIsIml0ZW1zSnNvbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzaG93T3JkZXJUYWIiLCJpdGVtc09iaiIsImh0bWwiLCJvcmRlclRhYldyYXBwZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib3JkZXJCb3giLCJjcmVhdGVFbGVtZW50IiwiY29uY2F0IiwiZm9yRWFjaCIsIml0ZW0iLCJuYW1lIiwiY29sbGVjdGlvbiIsInNpemUiLCJwcmljZSIsInF1YW50aXR5Iiwib3JkZXJIZWFyZCIsImFwcGVuZENoaWxkIiwic2hvd09yZGVyRm9ybUlucHV0IiwiaXRlbXMiLCJ0b3RhbFByaWNlIiwibGFzdE5hbWUiLCJkaXZXaXRoVmFsaWRhdGVUZXh0TGFzdCIsInF1YW50aXR5QXNOdW1iZXIiLCJOdW1iZXIiLCJwYXJzZUludCIsImlzRm9ybUNvcnJlY3QiLCJwcmljZUFzTnVtYmVyIiwidG9GaXhlZCIsImRpdldpdGhWYWxpZGF0ZVRleHRFbWFpbCIsIjIiLCIzIiwidmFsaWRhdGVGb3JtT3JkZXIiLCI1IiwiNiIsImNpdHkiLCJjb25zb2xlIiwibG9nIiwiY29uZGl0aW9uIiwiZGl2V2l0aFZhbGlkYXRlVGV4dCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImRpdldpdGhWYWxpZGF0ZVRleHRDaXR5Iiwib3JkZXJGb3JtIiwiZm9ybXMiLCJjb3JyZWN0TmFtZUNpdHkiLCJjaXR5TWF0Y2hlcyIsImZpcnN0TmFtZSIsInZhbHVlIiwicG9zdE9mZmljZSIsImVsZW1lbnRzIiwibmV3UG9zdE9mZmljZSIsImRpdldpdGhWYWxpZGF0ZVRleHROZXdQb3N0T2ZmaWNlIiwiY29tbWVudCIsIm1lc3NhZ2UiLCJzaG93T3JkZXJSZXN1bHQiLCJudW1iZXIiLCJwaG9uZU51bWJlciIsIm1hdGNoIiwiZW1haWwiLCJvcmRlclJlc3VsdCIsInJlbW92ZUl0ZW0iLCJjaXR5U2VsZWN0IiwibG9jYXRpb24iLCJvcmRlck51bWJlciIsInJlc3VsdE1vZGVsIiwiJCIsIm9uIiwiaHJlZiIsImlubmVyVGV4dCIsImlubmVySFRNTCIsIm1vZGFsIl0sIm1hcHBpbmdzIjoiYUFBQUEsU0FBQUEsc0JBR0ksSUFBSUMsRUFBWUMsYUFBYUMsUUFBUSxZQUFyQ0MsYUFES0osS0FBQUEsTUFBVEMsSUFJQyxTQUFBRyxhQUFBQyxHQUdHLElBbUJRQyxFQW5CSkMsRUFBa0JDLFNBQVNDLGVBQWUsWUFEbERDLEVBQVNOLFNBQWFDLGNBQVUsT0FDNUJLLEVBQUlILGFBQWtCQyxRQUFTQyxhQUMvQkMsRUFBSUEsbUJBQW9CQyxhQUF4QiwrSEFBQUMsUUFrQlFOLEVBQUksc2ZBSFpELEVBZ0RIUSxRQUFBLFNBQUFDLEdBaENXUixHQUFJLHVDQUFBTSxPQWtDWVAsRUFBNUJVLEtBbENnQix5Q0FBQUgsT0FvQ1FFLEVBQUFFLFdBcENSLHlDQUFBSixPQW9DUUUsRUFBQUcsS0FwQ1IseUNBQUFMLE9Bb0NRRSxFQUFBSSxNQXBDUix5Q0FBQU4sT0FvQ1FFLEVBQUFLLFNBcENSLDBDQTBDUmIsR0FBSyxxQkF6RVQsdUhBQUFNLE9Ba0JZUSxXQUFBZixHQWxCWiwyV0FlQUUsRUFBZ0JjLFlBQVlYLEdBZ0V4QlksbUJBQWdCZCxHQWhDeEIsU0FBU1ksV0FBV0csR0FvQ1osSUFHQ0MsRUFBQSxFQVVELE9BUkFELEVBQUlFLFFBQVEsU0FBQVgsR0FDUlksSUFBQUEsRUFBQUEsT0FBMEJsQixTQUFTQyxFQUFBQSxPQW5DbkNrQixFQUFtQkMsT0FBT0MsU0FBU2YsRUFBS0ssVUFzQ3hDVyxHQUFBSCxFQUFBSSxFQUNIYixJQUdELG1DQUFBTixPQUF5Q0gsRUFBQUEsUUFBZSxHQUF4RCxzRUFBQUcsUUFYSWtCLEdBeEIyQ0UsUUFBUSxHQW1DdkQsbUVBQUFwQixRQUN5Q1ksRUFackNNLEdBWXFDRSxRQUFBLEdBRHpDLG9CQS9CUixTQUFTVixtQkFBbUJqQixHQXVDcEIsSUFBSTRCLEVBQUFBLENBcENKQyxFQUFLLE9BcUNEQyxFQUFDQyxVQUVETixFQUFBQSxTQUNITyxFQUFBLFVBcENEQyxFQUFLLFVBc0NEQyxFQUFJLGFBQ1JDLEVBQVFDLFlBb0JaLFNBQVNMLEVBQWtCTSxFQUFXQyxHQU9sQyxPQU5JRCxFQUNBQyxFQUFvQkMsVUFBVUMsT0FBTyxzQkFFckNGLEVBQW9CQyxVQUFVRSxJQUFJLHVCQUc5QkosRUF6QlJsQyxTQUFLNEIsZUFBa0JHLGNBQWNRLGlCQUFBQSxRQUEwQixXQUMzRGpCLElBQUFBLEdBQUEsRUFDSGtCLEVBQUF4QyxTQUFBeUMsTUFBQUQsVUFDS0UsRUFBZUYsRUFBR0csU0FBeEJDLFVBQUFDLE1BQ1FaLEVBQVJqQyxTQUFBQyxlQUFBLHNCQUVJNkMsRUFBSixPQUEyQkMsRUFBU0MsTUFBQUEsOEVBQ2hDQyxLQW5DQTNCLEdBQWdCLEdBc0NuQixJQUFBTCxFQUFBdUIsRUFBQU8sU0FBQTlCLFNBQUE0QixNQWxDRzNCLEVBQTBCbEIsU0FBU0MsZUFBZSxxQkFvQ2xEaUQsRUFBSixPQUF3QkgsRUFBU0ksTUFBUU4sOEVBRXpDTyxLQWxESjlCLEdBQUEsR0F1RFFZLElBQUFBLEVBQVdNLEVBQUFPLFNBQUFNLE9BQUFSLE1BQ1hWLEVBQThCRSxTQUFPcEMsZUFBckMsd0JBQ0cyQixFQUFBLE9BQUEwQixFQUFBQyxNQUFBLHVEQUNIcEIsS0FDSGIsR0FBQSxHQUtSLElBQUFrQyxFQUFBaEIsRUFBQU8sU0FBQVMsTUFBQVgsTUFyQ1dwQixFQUEyQnpCLFNBQVNDLGVBQWUsa0JBdUN0RG1ELEVBQXFFTixPQUFyREYsRUFBVTNCLE1BQUFBLDBDQUMzQkssS0FDSW1DLEdBQWN6RCxHQUdkTixJQUFBQSxFQUFhZ0UsRUFBYlgsU0FBd0JZLFdBQXhCZCxNQUNBN0MsUUFBUzRELElBQUFBLEdBR2JDLEVBQUEsTUFBd0I5QixFQUx4Qi9CLFNBQUFDLGVBQUEsb0JBT1FxQixHQUFBLEdBc0JKeEIsSUFBSTRDLEVBQUFDLEVBQUFaLEdBRFJDLFFBQUFDLElBQUFTLEdBaUJBZSxJQUFBQSxFQUFBakIsRUFBQU8sU0FBQUMsY0FBQUgsTUFDQWlCLEVBQUE5RCxTQUFBQyxlQUFBLHVCQUNIMkIsRUFBQSxPQUFBa0IsRUFBQVMsTUFBQSxtQkFBQU4sS0FDSjNCLEdBQUEsR0F0RXFCa0IsRUFBVU8sU0FBU0ksUUFBUU4sTUFFekNPLGdCQUFnQlIsRUFBVTNCLEVBQVNxQyxFQUFZRSxFQUFNZCxFQUFnQkksRUFBV2pELEVBQVN5QixLQWdCakcsU0FBUzhCLGdCQUFnQlIsRUFBVTNCLEVBQVNxQyxFQUFZRSxFQUFNZCxFQUFnQkksRUFBV2pELEVBQVN5QixHQUM5RixHQUFJQSxFQUFlLENBQ2YsSUFBSW1DLEVBQWN6RCxTQUFTQyxlQUFlLGVBQ3RDNEQsRUFBYzdELFNBQVNDLGVBQWUsZUFDdEM2RCxFQUFjQyxFQUFFLGdCQUFnQkMsR0FBRyxrQkFBa0IsV0FDckR0RSxhQUFhZ0UsV0FBVyxZQUN4QjFELFNBQVM0RCxTQUFTSyxLQUFLLE1BRzNCSixFQUFZSyxVQUFZLFFBRXhCLElBQUlwRSxFQUFJLG9JQUFBTSxPQUNrRndDLEVBRGxGLDBHQUFBeEMsT0FFZ0ZhLEVBRmhGLHNHQUFBYixPQUc0RWtELEVBSDVFLHFHQUFBbEQsT0FJMkVvRCxFQUozRSxxR0FBQXBELE9BSzJFc0MsRUFMM0UsNEdBQUF0QyxPQU1rRjBDLEVBTmxGLGtyQkFxQlJqRCxFQUFTUSxRQUFRLFNBQUFDLEdBQ2JSLEdBQUksNkVBQUFNLE9BRTRCRSxFQUFLQyxLQUZqQyx5Q0FBQUgsT0FHZ0JFLEVBQUtFLFdBSHJCLHlDQUFBSixPQUlnQkUsRUFBS0csS0FKckIseUNBQUFMLE9BS2dCRSxFQUFLSSxNQUxyQix5Q0FBQU4sT0FNZ0JFLEVBQUtLLFNBTnJCLDBDQVdSYixHQUFJLG9HQUFBTSxPQUVlUSxXQUFXZixHQUYxQix5SUFLSjRELEVBQVlVLFVBQVlyRSxFQUN4QmdFLEVBQVlNLE1BQU0sU0EzTTFCNUUiLCJmaWxlIjoiT3JkZXJfZm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbImdldFN0cmluZ09iakFuZFBhcnMoKTtcclxuXHJcbmZ1bmN0aW9uIGdldFN0cmluZ09iakFuZFBhcnMoKSB7XHJcbiAgICBsZXQgaXRlbXNKc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGFDYXJ0Jyk7XHJcbiAgICBsZXQgaXRlbXNPYmogID1KU09OLnBhcnNlKGl0ZW1zSnNvbik7XHJcbiAgICBzaG93T3JkZXJUYWIoaXRlbXNPYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93T3JkZXJUYWIoaXRlbXNPYmopIHtcclxuICAgIGxldCBvcmRlclRhYldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJUYWInKTtcclxuICAgIGxldCBvcmRlckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgb3JkZXJCb3guc2V0QXR0cmlidXRlKCdjbGFzcycsICdvcmRlcl9ib3gnKTtcclxuICAgIG9yZGVyQm94Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+WW91ciBPcmRlcjwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke29yZGVySXRlbXNMaXN0KGl0ZW1zT2JqKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QgXFxgbGlzdF8yXFxgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvcmRlckhlYXJkKGl0ZW1zT2JqKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJjaGVja0xpbmVcIiBjbGFzcz1cImxhc3RcIj5DaGVjayBpZiBhbGwgZmllbGRzIGFyZSBlbnRlcmVkIGNvcnJlY3RseTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImJ0bkNvbmZpcm1cIiBjbGFzcz1cImJ1dHRvbiBidXR0b24tcGF5cGFsXCIgaHJlZj1cIiNcIj5Db25maXJtPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCk7XHJcbiAgICBvcmRlclRhYldyYXBwZXIuYXBwZW5kQ2hpbGQob3JkZXJCb3gpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9yZGVySXRlbXNMaXN0KGl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IGh0bWwgPSBgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5OYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+Q29sbGVjdGlvbjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlNpemU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5QcmljZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPkNvdW50PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+YFxyXG5cclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9IGA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5uYW1lfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5jb2xsZWN0aW9ufTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5zaXplfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5wcmljZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0ucXVhbnRpdHl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5gO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaHRtbCArPSBgIDwvdGJvZHk+PC90YWJsZT5gO1xyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzaG93T3JkZXJGb3JtSW5wdXQoaXRlbXNPYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcmRlckhlYXJkKGl0ZW1zKSB7XHJcbiAgICBsZXQgcHJpY2UgPSAwO1xyXG4gICAgbGV0IHNoaXAgPSAwO1xyXG4gICAgbGV0IHRvdGFsUHJpY2UgPSAwO1xyXG5cclxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgbGV0IHByaWNlQXNOdW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoaXRlbS5wcmljZSk7XHJcbiAgICAgICAgbGV0IHF1YW50aXR5QXNOdW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoaXRlbS5xdWFudGl0eSk7XHJcblxyXG4gICAgICAgIHRvdGFsUHJpY2UgPSB0b3RhbFByaWNlICsgKCBxdWFudGl0eUFzTnVtYmVyICogcHJpY2VBc051bWJlciApO1xyXG4gICAgICAgIHByaWNlID0gcHJpY2UgKyBwcmljZUFzTnVtYmVyO1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gYDxsaT48YSBocmVmPVwiI1wiPlN1YnRvdGFsIDxzcGFuPiQke3RvdGFsUHJpY2UudG9GaXhlZCgyKX08L3NwYW4+PC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIj5TaGlwcGluZyA8c3Bhbj4kJHtzaGlwLnRvRml4ZWQoMil9PC9zcGFuPjwvYT48L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIjXCI+VG90YWwgPHNwYW4+JCR7KHRvdGFsUHJpY2UgKyBzaGlwKS50b0ZpeGVkKDIpfTwvc3Bhbj48L2E+PC9saT5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93T3JkZXJGb3JtSW5wdXQoaXRlbXNPYmopIHtcclxuXHJcbiAgICBjb25zdCBjaXR5TWF0Y2hlcyA9IHtcclxuICAgICAgICAnMic6ICdLaWV2JyxcclxuICAgICAgICAnMyc6ICdLaGFya292JyxcclxuICAgICAgICAnNCc6ICdPZGVzc2EnLFxyXG4gICAgICAgICc1JzogJ0x1Z2Fuc2snLFxyXG4gICAgICAgICc2JzogJ0RvbmV0c2snLFxyXG4gICAgICAgICc3JzogJ0tyaXZveSBSb2cnLFxyXG4gICAgICAgICc4JzogJ05pa29sYWV2J1xyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ29uZmlybScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBpc0Zvcm1Db3JyZWN0ID0gdHJ1ZTtcclxuICAgICAgICBsZXQgb3JkZXJGb3JtID0gZG9jdW1lbnQuZm9ybXMub3JkZXJGb3JtO1xyXG5cclxuICAgICAgICBsZXQgZmlyc3ROYW1lID0gb3JkZXJGb3JtLmVsZW1lbnRzLmZpcnN0TmFtZS52YWx1ZTtcclxuICAgICAgICBsZXQgZGl2V2l0aFZhbGlkYXRlVGV4dEZpcnN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yVGV4dEZpcnN0TmFtZScpO1xyXG4gICAgICAgIGlmICghdmFsaWRhdGVGb3JtT3JkZXIoZmlyc3ROYW1lLm1hdGNoKC9eW2EtekEtWtCwLdGP0JAt0K8nXVthLXpBLVrQsC3Rj9CQLdCvLSddK1thLXpBLVrQsC3Rj9CQLdCvJ10/JC91KSA9PT0gbnVsbCxcclxuICAgICAgICAgICAgZGl2V2l0aFZhbGlkYXRlVGV4dEZpcnN0KSkge1xyXG4gICAgICAgICAgICBpc0Zvcm1Db3JyZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGFzdE5hbWUgPSBvcmRlckZvcm0uZWxlbWVudHMubGFzdE5hbWUudmFsdWU7XHJcbiAgICAgICAgbGV0IGRpdldpdGhWYWxpZGF0ZVRleHRMYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yVGV4dExhc3ROYW1lJyk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUZvcm1PcmRlcihsYXN0TmFtZS5tYXRjaCgvXlthLXpBLVrQsC3Rj9CQLdCvJ11bYS16QS1a0LAt0Y/QkC3Qry0nXStbYS16QS1a0LAt0Y/QkC3QryddPyQvdSkgPT09IG51bGwsXHJcbiAgICAgICAgICAgIGRpdldpdGhWYWxpZGF0ZVRleHRMYXN0KSkge1xyXG4gICAgICAgICAgICBpc0Zvcm1Db3JyZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGhvbmVOdW1iZXIgPSBvcmRlckZvcm0uZWxlbWVudHMubnVtYmVyLnZhbHVlO1xyXG4gICAgICAgIGxldCBkaXZXaXRoVmFsaWRhdGVUZXh0TnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yVGV4dFBob25lTnVtYmVyJyk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUZvcm1PcmRlcihwaG9uZU51bWJlci5tYXRjaCgvXigoOHxcXCs3KVtcXC0gXT8pPyhcXCg/XFxkezN9XFwpP1tcXC0gXT8pP1tcXGRcXC0gXXs3LDEwfSQvKSA9PT0gbnVsbCxcclxuICAgICAgICAgICAgZGl2V2l0aFZhbGlkYXRlVGV4dE51bWJlcikpIHtcclxuICAgICAgICAgICAgaXNGb3JtQ29ycmVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBlbWFpbCA9IG9yZGVyRm9ybS5lbGVtZW50cy5lbWFpbC52YWx1ZTtcclxuICAgICAgICBsZXQgZGl2V2l0aFZhbGlkYXRlVGV4dEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yVGV4dEVtYWlsJyk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUZvcm1PcmRlcihlbWFpbC5tYXRjaCgvXlxcd3sxLDIwfVtAXT9bYS16XXsxLDZ9Wy5dP1thLXpdezEsNX0kLykgPT09IG51bGwsXHJcbiAgICAgICAgICAgIGRpdldpdGhWYWxpZGF0ZVRleHRFbWFpbCkpIHtcclxuICAgICAgICAgICAgaXNGb3JtQ29ycmVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNpdHkgPSBvcmRlckZvcm0uZWxlbWVudHMuY2l0eVNlbGVjdC52YWx1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjaXR5KTtcclxuICAgICAgICBsZXQgZGl2V2l0aFZhbGlkYXRlVGV4dENpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3JUZXh0Q2l0eScpO1xyXG4gICAgICAgIGlmICghdmFsaWRhdGVGb3JtT3JkZXIoY2l0eSA9PT0gJzEnLCBkaXZXaXRoVmFsaWRhdGVUZXh0Q2l0eSkpIHtcclxuICAgICAgICAgICAgaXNGb3JtQ29ycmVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb3JyZWN0TmFtZUNpdHkgPSBjaXR5TWF0Y2hlc1tjaXR5XTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb3JyZWN0TmFtZUNpdHkpO1xyXG5cclxuICAgICAgICBsZXQgcG9zdE9mZmljZSA9IG9yZGVyRm9ybS5lbGVtZW50cy5uZXdQb3N0T2ZmaWNlLnZhbHVlO1xyXG4gICAgICAgIGxldCBkaXZXaXRoVmFsaWRhdGVUZXh0TmV3UG9zdE9mZmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvclRleHRQb3N0T2ZmaWNlJyk7XHJcbiAgICAgICAgaWYgKCF2YWxpZGF0ZUZvcm1PcmRlcihwb3N0T2ZmaWNlLm1hdGNoKC9b4oSWXT9bMC05XXsxLDR9L2cpID09PSBudWxsLCBkaXZXaXRoVmFsaWRhdGVUZXh0TmV3UG9zdE9mZmljZSkpIHtcclxuICAgICAgICAgICAgaXNGb3JtQ29ycmVjdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNvbW1lbnQgPSBvcmRlckZvcm0uZWxlbWVudHMubWVzc2FnZS52YWx1ZTtcclxuXHJcbiAgICAgICAgc2hvd09yZGVyUmVzdWx0KGZpcnN0TmFtZSxsYXN0TmFtZSxwaG9uZU51bWJlcixlbWFpbCxjb3JyZWN0TmFtZUNpdHkscG9zdE9mZmljZSxpdGVtc09iaixpc0Zvcm1Db3JyZWN0KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1PcmRlcihjb25kaXRpb24sIGRpdldpdGhWYWxpZGF0ZVRleHQpIHtcclxuICAgICAgICBpZiAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgIGRpdldpdGhWYWxpZGF0ZVRleHQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3JUZXh0SW52aXNpYmxlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGl2V2l0aFZhbGlkYXRlVGV4dC5jbGFzc0xpc3QuYWRkKCdlcnJvclRleHRJbnZpc2libGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAhY29uZGl0aW9uO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd09yZGVyUmVzdWx0KGZpcnN0TmFtZSxsYXN0TmFtZSxwaG9uZU51bWJlcixlbWFpbCxjb3JyZWN0TmFtZUNpdHkscG9zdE9mZmljZSxpdGVtc09iaixpc0Zvcm1Db3JyZWN0KSB7XHJcbiAgICBpZiAoaXNGb3JtQ29ycmVjdCkge1xyXG4gICAgICAgIGxldCBvcmRlclJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3JkZXJSZXN1bHRcIik7XHJcbiAgICAgICAgbGV0IG9yZGVyTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcmRlck51bWJlclwiKTtcclxuICAgICAgICBsZXQgcmVzdWx0TW9kZWwgPSAkKCcjcmVzdWx0TW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJyxmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RhdGFDYXJ0Jyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWY9XCIvXCI7XHJcbiAgICAgICAgfSApXHJcblxyXG4gICAgICAgIG9yZGVyTnVtYmVyLmlubmVyVGV4dCA9IFwiMTIzNDVcIjtcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSBgPGg1PtChdXN0b21lciBpbmZvcm1hdGlvbjogPC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1cIj4gPHNwYW4gY2xhc3M9XCJjYXB0aW9uT3JkZXJSZXN1bHRcIj5GaXJzdCBuYW1lOiA8L3NwYW4+ICR7Zmlyc3ROYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLVwiPiA8c3BhbiBjbGFzcz1cImNhcHRpb25PcmRlclJlc3VsdFwiPkxhc3QgbmFtZTogPC9zcGFuPiR7bGFzdE5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtXCI+IDxzcGFuIGNsYXNzPVwiY2FwdGlvbk9yZGVyUmVzdWx0XCI+UGhvbmU6IDwvc3Bhbj4ke3Bob25lTnVtYmVyfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLVwiPiA8c3BhbiBjbGFzcz1cImNhcHRpb25PcmRlclJlc3VsdFwiPm1haWw6IDwvc3Bhbj4ke2VtYWlsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLVwiPiA8c3BhbiBjbGFzcz1cImNhcHRpb25PcmRlclJlc3VsdFwiPkNpdHk6IDwvc3Bhbj4ke2NvcnJlY3ROYW1lQ2l0eX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1cIj4gPHNwYW4gY2xhc3M9XCJjYXB0aW9uT3JkZXJSZXN1bHRcIj5Qb3N0IG51bWJlcjogPC9zcGFuPiR7cG9zdE9mZmljZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1cIj4gPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtXCI+IDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5OYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+Q29sbGVjdGlvbjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlNpemU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5QcmljZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPkNvdW50PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiaGVhZGxpbmVPcmRlclJlc3VsdFwiPlByb2R1Y3QgaW5mb3JtYXRpb246IDwvaDU+YDtcclxuXHJcbiAgICAgICAgaXRlbXNPYmouZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJyb3dcIj4ke2l0ZW0ubmFtZX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0uY29sbGVjdGlvbn08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0uc2l6ZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0ucHJpY2V9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpdGVtLnF1YW50aXR5fTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+YDtcclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaHRtbCArPSBgPC90Ym9keT48L3RhYmxlPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QgXFxgbGlzdF8yXFxgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAke29yZGVySGVhcmQoaXRlbXNPYmopfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1cIj5PdXIgbWFuYWdlciB3aWxsIHBob25lIHlvdSBhcyBzb29uIGFzIHBvc3NpYmxlLiBCZXN0IHJlZ2FyZHM8L2Rpdj5gO1xyXG4gICAgICAgIG9yZGVyUmVzdWx0LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgcmVzdWx0TW9kZWwubW9kYWwoJ3Nob3cnKTtcclxuICAgIH1cclxufSJdfQ==
