"use strict";function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,o=!0,c=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw n}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var tempArr=[];function showCategoriesList(e,t){var r=document.querySelector(".common-filter-categories");r.innerHTML="",r.insertAdjacentHTML("beforeend",'<div class="head">'.concat(t,'</div><form id="formCategories"><ul class="collection-categories"></ul></form>'));var a=document.querySelector(".collection-categories"),n=0;"all"===e?Object.keys(dataObj).forEach(function(e){Object.values(dataObj[e]).forEach(function(t){return n=t.length}),Object.keys(dataObj[e]).forEach(function(t){return a.insertAdjacentHTML("beforeend",'<li class="filter-list"><input class="pixel-radio" type="radio" id="'.concat(e).concat(t,'" name="categories"><label for="').concat(e).concat(t,'" data-collection="').concat(e,'" data-categories="').concat(t,'">').concat(e," ").concat(t,"<span> (").concat(n,")</span></label></li>"))})}):e&&(Object.values(dataObj[e]).forEach(function(t){return n=t.length}),Object.keys(dataObj[e]).forEach(function(t){a.insertAdjacentHTML("beforeend",'\n\t\t\t\t<li class="filter-list" data-collection="'.concat(e,'" data-categories="').concat(t,'"><input class="pixel-radio" type="radio" id="').concat(t,'" name="categories"><label for="').concat(t,'" data-collection="').concat(e,'" data-categories="').concat(t,'">').concat(e," ").concat(t,"<span> (").concat(n,")</span></label></li>\n\t\t\t"))}))}function showBrands(t,e){var r=document.querySelector(".common-filter-brands");r.innerHTML="",r.insertAdjacentHTML("beforeend",'<div class="head">Brands</div>'),r.insertAdjacentHTML("beforeend",'<form id="formBrands"><ul class="brands-filter"></ul></form>');var a=document.querySelector(".brands-filter"),n=[];if("all"===t)Object.keys(dataObj).forEach(function(t){return Object.values(dataObj[t]).forEach(function(t){return t.forEach(function(t){return n.push(t.brand)})})});else if(t&&!e)Object.values(dataObj[t]).forEach(function(t){return t.forEach(function(t){return n.push(t.brand)})});else if(t&&e){var o=dataObj[t];Object.values(o[e]).forEach(function(t){return n.push(t.brand)})}_toConsumableArray(new Set(n)).forEach(function(t){return a.insertAdjacentHTML("beforeend",'<li class="filter-list"><input class="pixel-radio" type="radio" id="'.concat(t,'" name="brand"><label for="').concat(t,'" data-brand="').concat(t,'">').concat(t,"</label></li>"))}),setListenerToBrands(a,t,e)}function showPriceFilter(){document.querySelector(".common-filter-price").insertAdjacentHTML("beforeend",'\n\t\t<div class="head">Price</div>\n\t\t<div class="price-range-area">\n\t\t\t<div class="value-wrapper d-flex flex-column">\n\t\t\t\t<form id="formPriceFilter">\n\t\t\t\t\t<label for="minPrice" class="price">Min($): \n\t\t\t\t\t\t<input class="input-price" type="text" name="minPrice" id="minPrice" placeholder="min value">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for="maxPrice" class="price">Max($):\n\t\t\t\t\t\t<input class="input-price" type="text" name="maxPrice" id="maxPrice" placeholder="max value">\n\t\t\t\t\t</label>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t'),setListenerToPriceFilter()}function productCardHtml(t,e,r,a){a.insertAdjacentHTML("beforeend",'\n\t\t<div class="col-md-6 col-lg-4 product-card" data-collection="'.concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'">\n\t\t\t<div class="card text-center card-product">\n\t\t\t\t<div class="card-product__img">\n\t\t\t\t\t<img class="card-img" src="img/product/').concat(t,"/").concat(r.photo[0],'" alt="">\n\t\t\t\t\t<ul class="card-product__imgOverlay">\n\t\t\t\t\t\t<li><button class="open-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product"><i class="ti-search" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product"></i></button></li>\n\t\t\t\t\t\t<li><button class="buy-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="buy-product"><i class="ti-shopping-cart" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="buy-product"></i></button></li>\t\t\t\t\t\t\t\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="card-body">\n\t\t\t\t\t<p>').concat(e,'</p>\n\t\t\t\t\t<h4 class="card-product__title"><a href="single-product.html" class="open-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product">').concat(r.name,'</a></h4>\n\t\t\t\t\t<p class="card-product__price">$').concat(r.price,"</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>"))}function showProducts(r,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:999999,c=document.querySelector(".row-products-list"),t=dataObj[r],i=[];if(c.innerHTML="","all"!==r&&r){if(r&&e)Object.values(t[e]).forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))});else if(r&&!e){var a=function(e){t[e].forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))})};for(var l in t)a(l)}}else{var s=function(r){function t(e){a[e].forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))})}var a=dataObj[r];for(var e in a)t(e)};for(var d in dataObj)s(d)}tempArr=[].concat(i)}function setListenerToCollections(t){t.addEventListener("click",function(t){var e=t.target.getAttribute("id");t.stopPropagation(),e&&(showProducts(e),showCategoriesList(e,"Categories"),showBrands(e))}),showProducts()}function setListenerToCategories(){document.querySelector(".common-filter-categories").addEventListener("click",function(t){var e=t.target.getAttribute("data-categories"),r=t.target.getAttribute("data-collection");(r||e)&&(showProducts(r,e),showBrands(r,e))})}function setListenerToBrands(t,i,l){t.addEventListener("click",function(t){var n=document.querySelector(".row-products-list"),o=t.target.getAttribute("id"),r=dataObj[i],c=[];if(o&&(n.innerHTML=""),o&&"all"!==i&&l)r[l].filter(function(t){t.brand===o&&(productCardHtml(i,l,t,n),t.collection=i,t.category=l,c.push(t))});else if(o&&"all"!==i&&!l){var e=function(e){r[e].filter(function(t){t.brand===o&&(productCardHtml(i,e,t,n),t.collection=i,t.category=e,c.push(t))})};for(var a in r)e(a)}else o&&"all"===i&&Object.keys(dataObj).forEach(function(r){function t(e){a[e].filter(function(t){t.brand===o&&(productCardHtml(r,e,t,n),t.collection=r,t.category=e,c.push(t))})}var a=dataObj[r];for(var e in a)t(e)});tempArr=[].concat(c)})}function setListenerToProductCard(t){var c=document.querySelectorAll(".open-product");t.addEventListener("click",function(t){var e=t.target.getAttribute("data-id"),r=t.target.getAttribute("data-collection"),a=t.target.getAttribute("data-btn");if("I"===t.target.tagName&&(a=t.target.parentNode.getAttribute("data-btn"),t.stopPropagation()),"open-product"===a)setDataInLocalStorage(r,e),c.forEach(function(t){return location.href="/single-product.html"});else if("buy-product"===a){var n=dataObj[r],o={};Object.values(n).forEach(function(t){t.forEach(function(t){e===t.id&&(o.collection=r,o.id=e,o.name=t.name,o.photo=t.photo[0],o.price=t.price,o.quantity="1",o.size=t.size[0])})}),setBuyProductInLS(o)}})}function setListenerToPriceFilter(){var e=document.forms.formPriceFilter;e.addEventListener("click",function(t){setTimeout(function(){priceFilter(e.elements.minPrice.value,e.elements.maxPrice.value)},3e3)})}function setListenerToSortSelection(t){var e=document.querySelector(".product-sorting"),r=document.querySelector(".product-show-quantity"),a=document.querySelector(".row-products-list");e.addEventListener("click",function(){return sortProducts(e.value,a,t)}),r.addEventListener("click",function(){return showQuantityProductsOnThePage(r.value,a,t)})}function priceFilter(n,o){var c,i,t=[document.forms.formCollection,document.forms.formCategories,document.forms.formBrands];priceFilterValidation(n,o)&&t.forEach(function(t){var e,r=_createForOfIteratorHelper(t.elements);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.checked&&("collection"===a.name&&(c=a.id),"categories"===a.name&&(i=a.id),showProducts(c,i,n,o))}}catch(t){r.e(t)}finally{r.f()}})}function priceFilterValidation(t,e){var r=document.getElementById("minPrice"),a=document.getElementById("maxPrice");return isNaN(+t)||!t?(r.classList.add("error"),a.classList.remove("error"),!1):isNaN(+e)||!e?(r.classList.remove("error"),a.classList.add("error"),!1):(r.classList.remove("error"),a.classList.remove("error"),!0)}function sortProducts(t,e){var r=[];switch(Array.isArray(tempArr[0])?tempArr.forEach(function(t){return t.forEach(function(t){return r.push(t)})}):r=tempArr,e.innerHTML="",t){case"default":r.sort(arraySortingByID);break;case"popularity":case"newest-arrivals":r.sort(randomSorting);break;case"price-low-to-high":r.sort(arraySorting);break;case"price-high-to-low":r.sort(arraySorting).reverse()}r.forEach(function(t){return productCardHtml(t.collection,t.category,t,e)}),tempArr=r}function arraySorting(t,e){return+t.price>+e.price?1:+t.price==+e.price?0:+t.price<+e.price?-1:void 0}function arraySortingByID(t,e){return+t.id>+e.id?1:+t.id==+e.id?0:+t.id<+e.id?-1:void 0}function randomSorting(){return Math.random()-.5}function showQuantityProductsOnThePage(t,e){e.innerHTML="";var r=_toConsumableArray(tempArr),a=[],n=Math.ceil(r.length/t);if("show all"===t)return tempArr.forEach(function(t){return productCardHtml(t.collection,t.category,t,e)}),void showPagesPaginationButtons("all");for(var o=0,c=0;o<n;o++){var i=r.slice(c,+t+c);c+=+t,a.push(i)}showPagesPaginationButtons(n,tempArr=a,e),tempArr[0].forEach(function(t){return productCardHtml(t.collection,t.category,t,e)})}function showPagesPaginationButtons(t,e,r){var a=document.querySelector(".product-pages");if(a.innerHTML="","all"!==t&&1!==t){var n=document.createElement("ul");n.classList.add("number-pages-list"),a.appendChild(n),n.insertAdjacentHTML("beforeend",'<li class="pages-item" data-page-number="prev"><< Prev<li>');for(var o=1;o<t+1;o++)1===o?n.insertAdjacentHTML("beforeend",'<li class="pages-item pages-item-number active" data-page-number="'.concat(o,'">').concat(o,"<li>")):n.insertAdjacentHTML("beforeend",'<li class="pages-item pages-item-number" data-page-number="'.concat(o,'">').concat(o,"<li>"));n.insertAdjacentHTML("beforeend",'<li class="pages-item" data-page-number="next">Next >><li>'),setListenerToPageButtons(n,e,r)}}function setListenerToPageButtons(t,r,a){var n=0,o=document.querySelectorAll(".pages-item-number");t.addEventListener("click",function(t){var e=t.target.getAttribute("data-page-number");e&&("next"===e?++n===r.length&&(n=r.length-1):"prev"===e?--n<0&&(n=0):n=e-1,n===r.length?n=r.length-1:n<0&&(n=0),o.forEach(function(t){t.classList.contains("active")&&+e!==n&&t.classList.remove("active")}),o[n].classList.add("active"),a.innerHTML="",r[n].forEach(function(t){return productCardHtml(t.collection,t.category,t,a)}))})}function setListenersTosearchArea(){var t=document.getElementById("searchProduct"),e=document.getElementById("productBtnSearch");t.oninput=function(){searchProduct(t.value.toLowerCase().trim())},e.addEventListener("click",function(){return searchProduct(t.value)})}function searchProduct(e){var t=document.querySelectorAll(".product-card");""!==e?t.forEach(function(t){-1===t.innerText.toLowerCase().search(e)?t.classList.add("hide"):t.classList.remove("hide")}):t.forEach(function(t){return t.classList.remove("hide")})}function setDataInLocalStorage(t,e){console.log(t),console.log(e);var r={collection:t,id:e};console.log(r),localStorage.setItem("dataSelectedObj",JSON.stringify(r))}function setBuyProductInLS(t){var e=[];localStorage.getItem("dataCart")&&(e=getDataFromLSShoppingCart()),e.push(t),showQuantityGoodsInBasket(e.length),localStorage.setItem("dataCart",JSON.stringify(e))}function getDataFromLSShoppingCart(){return JSON.parse(localStorage.getItem("dataCart"))}function showQuantityGoodsInBasket(t){document.getElementById("show").innerHTML=t}!function(){var t=document.querySelector(".sidebar-categories");t.insertAdjacentHTML("beforeend",'<div class="head">Collection</div>'),t.insertAdjacentHTML("beforeend",'<form id="formCollection"><ul class="main-collection"></ul></form>');var a=document.querySelector(".main-collection"),e=document.querySelector(".row-products-list"),n=0;Object.keys(dataObj).forEach(function(t){var e=0,r=dataObj[t];Object.keys(r).forEach(function(t){e+=r[t].length,n+=r[t].length}),a.insertAdjacentHTML("beforeend",'<li class="filter-list collection-item"><input class="pixel-radio" type="radio" id="'.concat(t,'" name="collection"><label for="').concat(t,'">').concat(t,"'s<span> (").concat(e,")</span></label></li>"))}),a.insertAdjacentHTML("afterbegin",'<li class="filter-list collection-item"><input class="pixel-radio" type="radio" id="all" name="collection" checked><label for="all">All<span> ('.concat(n,")</span></label></li>")),showCategoriesList("all","Categories"),showBrands("all"),setListenerToCollections(t),setListenerToSortSelection(),showPriceFilter(),setListenerToProductCard(e),setListenerToCategories(),setListenersTosearchArea()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LmpzIl0sIm5hbWVzIjpbInRlbXBBcnIiLCJzZXRMaXN0ZW5lclRvQ29sbGVjdGlvbnMiLCJjb250YWluZXIiLCJ0aXRsZSIsInNldExpc3RlbmVyVG9Tb3J0U2VsZWN0aW9uIiwicXVlcnlTZWxlY3RvciIsInNob3dQcmljZUZpbHRlciIsInNldExpc3RlbmVyVG9Qcm9kdWN0Q2FyZCIsImNvbnRhaW5lclByb2R1Y3RzIiwic2V0TGlzdGVuZXJUb0NhdGVnb3JpZXMiLCJkb2N1bWVudCIsInNldExpc3RlbmVyc1Rvc2VhcmNoQXJlYSIsInNlbGVjdGVkQ29sbGVjdGlvbiIsIk9iamVjdCIsInNob3dDYXRlZ29yaWVzTGlzdCIsImRhdGFPYmoiLCJxdWFudGl0eSIsImFtb3VudCIsImxlbmd0aCIsImluc2VydEFkamFjZW50SFRNTCIsImZvckVhY2giLCJjYXRlZ29yaWVzIiwiY29sbGVjdGlvbkNhdGVnb3JpZXMiLCJjb25jYXQiLCJjb2xsZWN0aW9uIiwidmFsdWVzIiwiaW5uZXJIVE1MIiwia2V5cyIsImJyYW5kc0NvbnRhaW5lciIsInRlbXBBcnJCcmFuZHMiLCJzaG93QnJhbmRzIiwic2VsZWN0ZWRDYXRlZ29yeSIsInByb2R1Y3QiLCJwdXNoIiwiYnJhbmQiLCJTZXQiLCJicmFuZEl0ZW0iLCJzZXRMaXN0ZW5lclRvQnJhbmRzIiwic2V0TGlzdGVuZXJUb1ByaWNlRmlsdGVyIiwicHJvZHVjdENhcmRIdG1sIiwiY2F0ZWdvcnkiLCJpZCIsInBob3RvIiwibmFtZSIsInByaWNlIiwic2hvd1Byb2R1Y3RzIiwibWluIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwibWF4IiwicHJvZHVjdENvbGxlY3Rpb24iLCJhbGxQcm9kdWN0cyIsInRlbXBQcm9kdWN0QXJyIiwiX2xvb3AzIiwiX2xvb3AiLCJfbG9vcDIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZEJyYW5kIiwiY29sbGVjdGlvbk9iaiIsImZpbHRlciIsIl9sb29wNCIsIl9sb29wNSIsIm9wZW5Qcm9kdWN0IiwicXVlcnlTZWxlY3RvckFsbCIsInByb2R1Y3RJZCIsImJ0biIsInRhZ05hbWUiLCJwYXJlbnROb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwibG9jYXRpb24iLCJocmVmIiwic2V0RGF0YUluTG9jYWxTdG9yYWdlIiwiaXRlbSIsInNldEJ1eVByb2R1Y3RJbkxTIiwiZm9ybVByaWNlIiwiZm9ybXMiLCJmb3JtUHJpY2VGaWx0ZXIiLCJzZXRUaW1lb3V0IiwicHJpY2VGaWx0ZXIiLCJ2YWx1ZSIsImVsZW1lbnRzIiwibWF4UHJpY2UiLCJzZWxlY3Rpb25Tb3J0Iiwic2VsZWN0aW9uUXVhbnRpdHkiLCJzb3J0UHJvZHVjdHMiLCJwcm9kdWN0Q29udGFpbmVyIiwic2hvd1F1YW50aXR5UHJvZHVjdHNPblRoZVBhZ2UiLCJmb3JtQXJyIiwiZm9ybUNvbGxlY3Rpb24iLCJmb3JtQ2F0ZWdvcmllcyIsImZvcm1CcmFuZHMiLCJwcmljZUZpbHRlclZhbGlkYXRpb24iLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwiaW5wdXQiLCJjaGVja2VkIiwiZXJyIiwiZSIsImYiLCJtYXhJbnB1dCIsImdldEVsZW1lbnRCeUlkIiwiaXNOYU4iLCJtaW5JbnB1dCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNvcnRPcHRpb24iLCJhcnJheU9mUHJvZHVjdHNPYmoiLCJhcnJheVNvcnRpbmdCeUlEIiwic29ydCIsInJhbmRvbVNvcnRpbmciLCJwcm9kdWN0QSIsInByb2R1Y3RCIiwiTWF0aCIsInJhbmRvbSIsInByb2R1Y3RzQXJyIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwibmV3QXJyIiwiYXJyUGFydHMiLCJjZWlsIiwic2hvd1BhZ2VzUGFnaW5hdGlvbkJ1dHRvbnMiLCJpIiwiYXJyIiwic2xpY2UiLCJqIiwibnVtYmVyc0NvbnRhaW5lciIsImxpc3QiLCJjcmVhdGVFbGVtZW50Iiwic2V0TGlzdGVuZXJUb1BhZ2VCdXR0b25zIiwiYXJyYXkiLCJhcHBlbmRDaGlsZCIsImluZGV4IiwiY29udGFpbnMiLCJidG5MaXN0IiwiYnRuU2VhcmNoIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic2VhcmNoUHJvZHVjdCIsImRhdGFTZWFyY2giLCJzdHJpbmciLCJwcm9kdWN0TGlzdCIsIm9uaW5wdXQiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhQ2FyZEdvb2RzIiwiZ2V0RGF0YUZyb21MU1Nob3BwaW5nQ2FydCIsInNob3dRdWFudGl0eUdvb2RzSW5CYXNrZXQiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsInF1YW50aXR5R29vZHMiLCJjb2xsZWN0aW9uTGlzdCIsInRvdGFsQW1vdW50IiwiY29sbGVjdGlvbkl0ZW0iLCJjb2xsSXRlbXMiLCJzaG93Q29sbGVjdGlvbkxpc3QiXSwibWFwcGluZ3MiOiJBQUFBLCtsREFFQSxJQUFJQSxRQUFVLEdBMkJiQyxTQUFBQSxtQkFBeUJDLEVBQXpCQyxHQUNBQyxJQUFBQSxFQUFBQSxTQUEwQkMsY0FBQSw2QkFDMUJDLEVBQUFBLFVBQWUsR0FDZkMsRUFBQUEsbUJBQXlCQyxZQUF6QkQscUJBQUFBLE9BQUFKLEVBQUFJLG1GQUNBRSxJQUFBQSxFQUF1QkMsU0FBQUwsY0FBQSwwQkFDdkJNLEVBQUFBLEVBVTJCLFFBQXZCQyxFQVBMQyxPQUFTQyxLQUFBQSxTQUFBQSxRQUFtQkYsU0FBQUEsR0FDM0JDLE9BQU1YLE9BQVNhLFFBQUdMLElBQVNMLFFBQWMsU0FBQVcsR0FBQSxPQUFBQyxFQUFBRCxFQUF6Q0UsU0FFQWhCLE9BQUFBLEtBQVVpQixRQUFBQSxJQUFtQkMsUUFBN0IsU0FBQUMsR0FBQSxPQUFBQyxFQUFBSCxtQkFBQSxZQUFBLHVFQUFBSSxPQUFBQyxHQUFBRCxPQUFBRixFQUFBLG9DQUFBRSxPQUFBQyxHQUFBRCxPQUFBRixFQUFBLHVC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QVgzSCxLQUFBMEMsR0FRQW1GLDBCQURhQyxFQUFRN0ksUUFHdEJ1SSxhQUFTN0UsUUFBQUEsV0FBd0I4RSxLQUFBQyxVQUFBQyxJQUdoQyxTQUFJSCw0QkFLSkcsT0FIaUJDLEtBQUFBLE1BQUFBLGFBQXlCRyxRQUF6QyxhQVFEUCxTQUFBQSwwQkFBaUNDLEdBQ2pDaEosU0FBQWlHLGVBQUEsUUFBQWpGLFVBQUF1SSxHQTdrQkQsV0FDQyxJQUFNL0osRUFBWVEsU0FBU0wsY0FBYyx1QkFDekNILEVBQVVpQixtQkFBbUIsWUFBN0Isc0NBQ0FqQixFQUFVaUIsbUJBQW1CLFlBQTdCLHNFQUNBLElBQU0rSSxFQUFpQnhKLFNBQVNMLGNBQWMsb0JBQ3hDRyxFQUFvQkUsU0FBU0wsY0FBYyxzQkFFN0M4SixFQUFjLEVBRWxCdEosT0FBT2MsS0FBS1osU0FBU0ssUUFBUSxTQUFDZ0osR0FDN0IsSUFBSW5KLEVBQVMsRUFDVG9KLEVBQVl0SixRQUFRcUosR0FFeEJ2SixPQUFPYyxLQUFLMEksR0FBV2pKLFFBQVEsU0FBQ3VELEdBYmpDMUQsR0FBU3FKLEVBQUFBLEdBQVRwSixPQUNBaUosR0FBa0J6SixFQUFTTCxHQUFBQSxTQUczQjZKLEVBQU1BLG1CQUEwQjdKLFlBQWhDLHVGQUFBa0IsT0FBQTZJLEVBQUEsb0NBQUE3SSxPQUFBNkksRUFBQSxNQUFBN0ksT0FBQTZJLEVBQUEsY0FBQTdJLE9BQUFOLEVBQUEsNEJBS0FKLEVBQVlFLG1CQUFpQixhQUE3QkYsa0pBQUFBLE9BQWlEc0osRUFBakR0SiwwQkFFQ0MsbUJBQWdCQyxNQUFPLGNBRXZCRixXQUFPYyxPQUNOVix5QkFBb0IwRCxHQUNwQndGLDZCQUNBN0osa0JBRUQ0Six5QkFBZS9JLEdBQ2ZWLDBCQUVEeUosMkJBckJEIiwiZmlsZSI6ImNhdGVnb3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IHRlbXBBcnIgPSBbXTtcclxuXHJcbihmdW5jdGlvbiBzaG93Q29sbGVjdGlvbkxpc3QoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXItY2F0ZWdvcmllcycpO1xyXG5cdGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8ZGl2IGNsYXNzPVwiaGVhZFwiPkNvbGxlY3Rpb248L2Rpdj5gKTtcclxuXHRjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGZvcm0gaWQ9XCJmb3JtQ29sbGVjdGlvblwiPjx1bCBjbGFzcz1cIm1haW4tY29sbGVjdGlvblwiPjwvdWw+PC9mb3JtPmApO1xyXG5cdGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29sbGVjdGlvbicpO1xyXG5cdGNvbnN0IGNvbnRhaW5lclByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvdy1wcm9kdWN0cy1saXN0Jyk7XHJcblxyXG5cdGxldCB0b3RhbEFtb3VudCA9IDA7XHJcblxyXG5cdE9iamVjdC5rZXlzKGRhdGFPYmopLmZvckVhY2goKGNvbGxlY3Rpb25JdGVtKSA9PiB7XHJcblx0XHRsZXQgYW1vdW50ID0gMDtcclxuXHRcdGxldCBjb2xsSXRlbXMgPSBkYXRhT2JqW2NvbGxlY3Rpb25JdGVtXTtcclxuXHJcblx0XHRPYmplY3Qua2V5cyhjb2xsSXRlbXMpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0YW1vdW50ICs9IGNvbGxJdGVtc1tpdGVtXS5sZW5ndGg7XHJcblx0XHRcdHRvdGFsQW1vdW50ICs9IGNvbGxJdGVtc1tpdGVtXS5sZW5ndGg7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb2xsZWN0aW9uTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGkgY2xhc3M9XCJmaWx0ZXItbGlzdCBjb2xsZWN0aW9uLWl0ZW1cIj48aW5wdXQgY2xhc3M9XCJwaXhlbC1yYWRpb1wiIHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtjb2xsZWN0aW9uSXRlbX1cIiBuYW1lPVwiY29sbGVjdGlvblwiPjxsYWJlbCBmb3I9XCIke2NvbGxlY3Rpb25JdGVtfVwiPiR7Y29sbGVjdGlvbkl0ZW19J3M8c3Bhbj4gKCR7YW1vdW50fSk8L3NwYW4+PC9sYWJlbD48L2xpPmApO1xyXG5cdH0pO1xyXG5cclxuXHRjb2xsZWN0aW9uTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBgPGxpIGNsYXNzPVwiZmlsdGVyLWxpc3QgY29sbGVjdGlvbi1pdGVtXCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cImFsbFwiIG5hbWU9XCJjb2xsZWN0aW9uXCIgY2hlY2tlZD48bGFiZWwgZm9yPVwiYWxsXCI+QWxsPHNwYW4+ICgke3RvdGFsQW1vdW50fSk8L3NwYW4+PC9sYWJlbD48L2xpPmApO1xyXG5cclxuXHRzaG93Q2F0ZWdvcmllc0xpc3QoJ2FsbCcsICdDYXRlZ29yaWVzJyk7XHJcblx0c2hvd0JyYW5kcygnYWxsJyk7XHJcblx0c2V0TGlzdGVuZXJUb0NvbGxlY3Rpb25zKGNvbnRhaW5lcik7XHJcblx0c2V0TGlzdGVuZXJUb1NvcnRTZWxlY3Rpb24oKTtcclxuXHRzaG93UHJpY2VGaWx0ZXIoKTtcclxuXHRzZXRMaXN0ZW5lclRvUHJvZHVjdENhcmQoY29udGFpbmVyUHJvZHVjdHMpO1xyXG5cdHNldExpc3RlbmVyVG9DYXRlZ29yaWVzKCk7XHJcblx0c2V0TGlzdGVuZXJzVG9zZWFyY2hBcmVhKCk7XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBzaG93Q2F0ZWdvcmllc0xpc3Qoc2VsZWN0ZWRDb2xsZWN0aW9uLCB0aXRsZSkge1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21tb24tZmlsdGVyLWNhdGVnb3JpZXMnKTtcclxuXHRjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxkaXYgY2xhc3M9XCJoZWFkXCI+JHt0aXRsZX08L2Rpdj48Zm9ybSBpZD1cImZvcm1DYXRlZ29yaWVzXCI+PHVsIGNsYXNzPVwiY29sbGVjdGlvbi1jYXRlZ29yaWVzXCI+PC91bD48L2Zvcm0+YCk7XHJcblx0Y29uc3QgY29sbGVjdGlvbkNhdGVnb3JpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sbGVjdGlvbi1jYXRlZ29yaWVzJyk7XHJcblx0bGV0IGFtb3VudCA9IDA7XHJcblxyXG5cdGlmIChzZWxlY3RlZENvbGxlY3Rpb24gPT09ICdhbGwnKSB7XHJcblx0XHRPYmplY3Qua2V5cyhkYXRhT2JqKS5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XHJcblx0XHRcdE9iamVjdC52YWx1ZXMoZGF0YU9ialtjb2xsZWN0aW9uXSkuZm9yRWFjaChxdWFudGl0eSA9PiBhbW91bnQgPSBxdWFudGl0eS5sZW5ndGgpO1xyXG5cclxuXHRcdFx0T2JqZWN0LmtleXMoZGF0YU9ialtjb2xsZWN0aW9uXSkuZm9yRWFjaChjYXRlZ29yaWVzID0+IGNvbGxlY3Rpb25DYXRlZ29yaWVzLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaSBjbGFzcz1cImZpbHRlci1saXN0XCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cIiR7Y29sbGVjdGlvbn0ke2NhdGVnb3JpZXN9XCIgbmFtZT1cImNhdGVnb3JpZXNcIj48bGFiZWwgZm9yPVwiJHtjb2xsZWN0aW9ufSR7Y2F0ZWdvcmllc31cIiBkYXRhLWNvbGxlY3Rpb249XCIke2NvbGxlY3Rpb259XCIgZGF0YS1jYXRlZ29yaWVzPVwiJHtjYXRlZ29yaWVzfVwiPiR7Y29sbGVjdGlvbn0gJHtjYXRlZ29yaWVzfTxzcGFuPiAoJHthbW91bnR9KTwvc3Bhbj48L2xhYmVsPjwvbGk+YCkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdH0gZWxzZSBpZiAoc2VsZWN0ZWRDb2xsZWN0aW9uKSB7XHJcblx0XHRPYmplY3QudmFsdWVzKGRhdGFPYmpbc2VsZWN0ZWRDb2xsZWN0aW9uXSkuZm9yRWFjaChxdWFudGl0eSA9PiBhbW91bnQgPSBxdWFudGl0eS5sZW5ndGgpO1xyXG5cclxuXHRcdE9iamVjdC5rZXlzKGRhdGFPYmpbc2VsZWN0ZWRDb2xsZWN0aW9uXSkuZm9yRWFjaCgoY2F0ZWdvcmllcykgPT4ge1xyXG5cdFx0XHRjb2xsZWN0aW9uQ2F0ZWdvcmllcy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGBcclxuXHRcdFx0XHQ8bGkgY2xhc3M9XCJmaWx0ZXItbGlzdFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7c2VsZWN0ZWRDb2xsZWN0aW9ufVwiIGRhdGEtY2F0ZWdvcmllcz1cIiR7Y2F0ZWdvcmllc31cIj48aW5wdXQgY2xhc3M9XCJwaXhlbC1yYWRpb1wiIHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtjYXRlZ29yaWVzfVwiIG5hbWU9XCJjYXRlZ29yaWVzXCI+PGxhYmVsIGZvcj1cIiR7Y2F0ZWdvcmllc31cIiBkYXRhLWNvbGxlY3Rpb249XCIke3NlbGVjdGVkQ29sbGVjdGlvbn1cIiBkYXRhLWNhdGVnb3JpZXM9XCIke2NhdGVnb3JpZXN9XCI+JHtzZWxlY3RlZENvbGxlY3Rpb259ICR7Y2F0ZWdvcmllc308c3Bhbj4gKCR7YW1vdW50fSk8L3NwYW4+PC9sYWJlbD48L2xpPlxyXG5cdFx0XHRgKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0JyYW5kcyhzZWxlY3RlZENvbGxlY3Rpb24sIHNlbGVjdGVkQ2F0ZWdvcnkpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbW9uLWZpbHRlci1icmFuZHMnKTtcclxuXHRjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxkaXYgY2xhc3M9XCJoZWFkXCI+QnJhbmRzPC9kaXY+YCk7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxmb3JtIGlkPVwiZm9ybUJyYW5kc1wiPjx1bCBjbGFzcz1cImJyYW5kcy1maWx0ZXJcIj48L3VsPjwvZm9ybT5gKTtcclxuXHRjb25zdCBicmFuZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnJhbmRzLWZpbHRlcicpO1xyXG5cdGNvbnN0IHRlbXBBcnJCcmFuZHMgPSBbXTtcclxuXHJcblx0aWYgKHNlbGVjdGVkQ29sbGVjdGlvbiA9PT0gJ2FsbCcpIHtcclxuXHRcdE9iamVjdC5rZXlzKGRhdGFPYmopLmZvckVhY2goa2V5cyA9PiBPYmplY3QudmFsdWVzKGRhdGFPYmpba2V5c10pLmZvckVhY2goY2F0ZWdvcmllcyA9PiBjYXRlZ29yaWVzLmZvckVhY2gocHJvZHVjdCA9PiB0ZW1wQXJyQnJhbmRzLnB1c2gocHJvZHVjdC5icmFuZCkpKSk7XHJcblx0fSBlbHNlIGlmIChzZWxlY3RlZENvbGxlY3Rpb24gJiYgIXNlbGVjdGVkQ2F0ZWdvcnkpIHtcclxuXHRcdE9iamVjdC52YWx1ZXMoZGF0YU9ialtzZWxlY3RlZENvbGxlY3Rpb25dKS5mb3JFYWNoKGNhdGVnb3JpZXMgPT4gY2F0ZWdvcmllcy5mb3JFYWNoKHByb2R1Y3QgPT4gdGVtcEFyckJyYW5kcy5wdXNoKHByb2R1Y3QuYnJhbmQpKSk7XHJcblx0fSBlbHNlIGlmIChzZWxlY3RlZENvbGxlY3Rpb24gJiYgc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFx0Y29uc3QgdGVtcE9iaiA9IGRhdGFPYmpbc2VsZWN0ZWRDb2xsZWN0aW9uXTtcclxuXHRcdE9iamVjdC52YWx1ZXModGVtcE9ialtzZWxlY3RlZENhdGVnb3J5XSkuZm9yRWFjaChwcm9kdWN0ID0+IHRlbXBBcnJCcmFuZHMucHVzaChwcm9kdWN0LmJyYW5kKSk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzb3J0ZWRCcmFuZHMgPSBbLi4uKG5ldyBTZXQodGVtcEFyckJyYW5kcykpXTtcclxuXHRzb3J0ZWRCcmFuZHMuZm9yRWFjaChicmFuZEl0ZW0gPT4gYnJhbmRzQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaSBjbGFzcz1cImZpbHRlci1saXN0XCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cIiR7YnJhbmRJdGVtfVwiIG5hbWU9XCJicmFuZFwiPjxsYWJlbCBmb3I9XCIke2JyYW5kSXRlbX1cIiBkYXRhLWJyYW5kPVwiJHticmFuZEl0ZW19XCI+JHticmFuZEl0ZW19PC9sYWJlbD48L2xpPmApKTtcclxuXHJcblx0c2V0TGlzdGVuZXJUb0JyYW5kcyhicmFuZHNDb250YWluZXIsIHNlbGVjdGVkQ29sbGVjdGlvbiwgc2VsZWN0ZWRDYXRlZ29yeSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dQcmljZUZpbHRlcigpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbW9uLWZpbHRlci1wcmljZScpO1xyXG5cclxuXHRjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgXHJcblx0XHQ8ZGl2IGNsYXNzPVwiaGVhZFwiPlByaWNlPC9kaXY+XHJcblx0XHQ8ZGl2IGNsYXNzPVwicHJpY2UtcmFuZ2UtYXJlYVwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidmFsdWUtd3JhcHBlciBkLWZsZXggZmxleC1jb2x1bW5cIj5cclxuXHRcdFx0XHQ8Zm9ybSBpZD1cImZvcm1QcmljZUZpbHRlclwiPlxyXG5cdFx0XHRcdFx0PGxhYmVsIGZvcj1cIm1pblByaWNlXCIgY2xhc3M9XCJwcmljZVwiPk1pbigkKTogXHJcblx0XHRcdFx0XHRcdDxpbnB1dCBjbGFzcz1cImlucHV0LXByaWNlXCIgdHlwZT1cInRleHRcIiBuYW1lPVwibWluUHJpY2VcIiBpZD1cIm1pblByaWNlXCIgcGxhY2Vob2xkZXI9XCJtaW4gdmFsdWVcIj5cclxuXHRcdFx0XHRcdDwvbGFiZWw+XHJcblx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwibWF4UHJpY2VcIiBjbGFzcz1cInByaWNlXCI+TWF4KCQpOlxyXG5cdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJpbnB1dC1wcmljZVwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm1heFByaWNlXCIgaWQ9XCJtYXhQcmljZVwiIHBsYWNlaG9sZGVyPVwibWF4IHZhbHVlXCI+XHJcblx0XHRcdFx0XHQ8L2xhYmVsPlxyXG5cdFx0XHRcdDwvZm9ybT5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHRgKTtcclxuXHJcblx0c2V0TGlzdGVuZXJUb1ByaWNlRmlsdGVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2R1Y3RDYXJkSHRtbChjb2xsZWN0aW9uLCBjYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKSB7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYFxyXG5cdFx0PGRpdiBjbGFzcz1cImNvbC1tZC02IGNvbC1sZy00IHByb2R1Y3QtY2FyZFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZCB0ZXh0LWNlbnRlciBjYXJkLXByb2R1Y3RcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1wcm9kdWN0X19pbWdcIj5cclxuXHRcdFx0XHRcdDxpbWcgY2xhc3M9XCJjYXJkLWltZ1wiIHNyYz1cImltZy9wcm9kdWN0LyR7IGNvbGxlY3Rpb24gfS8keyBwcm9kdWN0LnBob3RvWzBdIH1cIiBhbHQ9XCJcIj5cclxuXHRcdFx0XHRcdDx1bCBjbGFzcz1cImNhcmQtcHJvZHVjdF9faW1nT3ZlcmxheVwiPlxyXG5cdFx0XHRcdFx0XHQ8bGk+PGJ1dHRvbiBjbGFzcz1cIm9wZW4tcHJvZHVjdFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiIGRhdGEtYnRuPVwib3Blbi1wcm9kdWN0XCI+PGkgY2xhc3M9XCJ0aS1zZWFyY2hcIiBkYXRhLWNvbGxlY3Rpb249XCIkeyBjb2xsZWN0aW9uIH1cIiBkYXRhLWNhdGVnb3J5PVwiJHsgY2F0ZWdvcnkgfVwiIGRhdGEtaWQ9XCIkeyBwcm9kdWN0LmlkIH1cIiBkYXRhLWJ0bj1cIm9wZW4tcHJvZHVjdFwiPjwvaT48L2J1dHRvbj48L2xpPlxyXG5cdFx0XHRcdFx0XHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImJ1eS1wcm9kdWN0XCIgZGF0YS1jb2xsZWN0aW9uPVwiJHsgY29sbGVjdGlvbiB9XCIgZGF0YS1jYXRlZ29yeT1cIiR7IGNhdGVnb3J5IH1cIiBkYXRhLWlkPVwiJHsgcHJvZHVjdC5pZCB9XCIgZGF0YS1idG49XCJidXktcHJvZHVjdFwiPjxpIGNsYXNzPVwidGktc2hvcHBpbmctY2FydFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiIGRhdGEtYnRuPVwiYnV5LXByb2R1Y3RcIj48L2k+PC9idXR0b24+PC9saT5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0PC91bD5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcblx0XHRcdFx0XHQ8cD4keyBjYXRlZ29yeSB9PC9wPlxyXG5cdFx0XHRcdFx0PGg0IGNsYXNzPVwiY2FyZC1wcm9kdWN0X190aXRsZVwiPjxhIGhyZWY9XCJzaW5nbGUtcHJvZHVjdC5odG1sXCIgY2xhc3M9XCJvcGVuLXByb2R1Y3RcIiBkYXRhLWNvbGxlY3Rpb249XCIkeyBjb2xsZWN0aW9uIH1cIiBkYXRhLWNhdGVnb3J5PVwiJHsgY2F0ZWdvcnkgfVwiIGRhdGEtaWQ9XCIkeyBwcm9kdWN0LmlkIH1cIiBkYXRhLWJ0bj1cIm9wZW4tcHJvZHVjdFwiPiR7IHByb2R1Y3QubmFtZSB9PC9hPjwvaDQ+XHJcblx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmQtcHJvZHVjdF9fcHJpY2VcIj4kJHsgcHJvZHVjdC5wcmljZSB9PC9wPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvZGl2PmBcclxuXHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UHJvZHVjdHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5LCBtaW4gPSAwLCBtYXggPSA5OTk5OTkpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm93LXByb2R1Y3RzLWxpc3QnKTtcclxuXHRjb25zdCBwcm9kdWN0Q29sbGVjdGlvbiA9IGRhdGFPYmpbc2VsZWN0ZWRDb2xsZWN0aW9uXTtcclxuXHRsZXQgdGVtcFByb2R1Y3RBcnIgPSBbXTtcclxuXHRjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdGlmIChzZWxlY3RlZENvbGxlY3Rpb24gPT09ICdhbGwnIHx8ICFzZWxlY3RlZENvbGxlY3Rpb24pIHtcclxuXHRcdGZvciAobGV0IGNvbGxlY3Rpb24gaW4gZGF0YU9iaikge1xyXG5cdFx0XHRsZXQgYWxsUHJvZHVjdHMgPSBkYXRhT2JqW2NvbGxlY3Rpb25dO1xyXG5cdFx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBhbGxQcm9kdWN0cykge1xyXG5cdFx0XHRcdGFsbFByb2R1Y3RzW2NhdGVnb3J5XS5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCtwcm9kdWN0LnByaWNlID49ICttaW4gJiYgK3Byb2R1Y3QucHJpY2UgPD0gK21heCkge1xyXG5cdFx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoY29sbGVjdGlvbiwgY2F0ZWdvcnksIHByb2R1Y3QsIGNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdHByb2R1Y3QuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XHJcblx0XHRcdFx0XHRcdHByb2R1Y3QuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcclxuXHRcdFx0XHRcdFx0dGVtcFByb2R1Y3RBcnIucHVzaChwcm9kdWN0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9IGVsc2UgaWYgKHNlbGVjdGVkQ29sbGVjdGlvbiAmJiBzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRPYmplY3QudmFsdWVzKHByb2R1Y3RDb2xsZWN0aW9uW3NlbGVjdGVkQ2F0ZWdvcnldKS5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRpZiAoK3Byb2R1Y3QucHJpY2UgPj0gK21pbiAmJiArcHJvZHVjdC5wcmljZSA8PSArbWF4KSB7XHJcblx0XHRcdFx0cHJvZHVjdENhcmRIdG1sKHNlbGVjdGVkQ29sbGVjdGlvbiwgc2VsZWN0ZWRDYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKTtcclxuXHRcdFx0XHRwcm9kdWN0LmNvbGxlY3Rpb24gPSBzZWxlY3RlZENvbGxlY3Rpb247XHJcblx0XHRcdFx0cHJvZHVjdC5jYXRlZ29yeSA9IHNlbGVjdGVkQ2F0ZWdvcnk7XHJcblx0XHRcdFx0dGVtcFByb2R1Y3RBcnIucHVzaChwcm9kdWN0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdH0gZWxzZSBpZiAoc2VsZWN0ZWRDb2xsZWN0aW9uICYmICFzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBwcm9kdWN0Q29sbGVjdGlvbikge1xyXG5cdFx0XHRwcm9kdWN0Q29sbGVjdGlvbltjYXRlZ29yeV0uZm9yRWFjaChwcm9kdWN0ID0+IHtcclxuXHRcdFx0XHRpZiAoK3Byb2R1Y3QucHJpY2UgPj0gK21pbiAmJiArcHJvZHVjdC5wcmljZSA8PSArbWF4KSB7XHJcblx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoc2VsZWN0ZWRDb2xsZWN0aW9uLCBjYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKTtcclxuXHRcdFx0XHRcdHByb2R1Y3QuY29sbGVjdGlvbiA9IHNlbGVjdGVkQ29sbGVjdGlvbjtcclxuXHRcdFx0XHRcdHByb2R1Y3QuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcclxuXHRcdFx0XHRcdHRlbXBQcm9kdWN0QXJyLnB1c2gocHJvZHVjdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHRlbXBBcnIgPSBbLi4udGVtcFByb2R1Y3RBcnJdO1xyXG5cdC8vIGdldFRlbXBBcnJQcm9kdWN0cyh0ZW1wUHJvZHVjdEFycik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExpc3RlbmVyVG9Db2xsZWN0aW9ucyhjb250YWluZXIpIHtcclxuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGNvbnN0IHNlbGVjdGVkQ29sbGVjdGlvbiA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRpZiAoIXNlbGVjdGVkQ29sbGVjdGlvbikge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0c2hvd1Byb2R1Y3RzKHNlbGVjdGVkQ29sbGVjdGlvbik7XHJcblx0XHRzaG93Q2F0ZWdvcmllc0xpc3Qoc2VsZWN0ZWRDb2xsZWN0aW9uLCAnQ2F0ZWdvcmllcycpO1xyXG5cdFx0c2hvd0JyYW5kcyhzZWxlY3RlZENvbGxlY3Rpb24pO1xyXG5cdH0pO1xyXG5cclxuXHRzaG93UHJvZHVjdHMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJUb0NhdGVnb3JpZXMoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1vbi1maWx0ZXItY2F0ZWdvcmllcycpO1xyXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcmllcycpO1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDb2xsZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XHJcblxyXG5cdFx0aWYgKCFzZWxlY3RlZENvbGxlY3Rpb24gJiYgIXNlbGVjdGVkQ2F0ZWdvcnkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNob3dQcm9kdWN0cyhzZWxlY3RlZENvbGxlY3Rpb24sIHNlbGVjdGVkQ2F0ZWdvcnkpO1xyXG5cdFx0c2hvd0JyYW5kcyhzZWxlY3RlZENvbGxlY3Rpb24sIHNlbGVjdGVkQ2F0ZWdvcnkpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvQnJhbmRzKGJyYW5kc0NvbnRhaW5lciwgc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5KSB7XHJcblxyXG5cdGJyYW5kc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctcHJvZHVjdHMtbGlzdCcpO1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRCcmFuZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcblx0XHRjb25zdCBjb2xsZWN0aW9uT2JqID0gZGF0YU9ialtzZWxlY3RlZENvbGxlY3Rpb25dO1xyXG5cdFx0Y29uc3QgdGVtcFByb2R1Y3RBcnIgPSBbXTtcclxuXHJcblx0XHRpZiAoc2VsZWN0ZWRCcmFuZCkge1xyXG5cdFx0XHRjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNlbGVjdGVkQnJhbmQgJiYgc2VsZWN0ZWRDb2xsZWN0aW9uICE9PSAnYWxsJyAmJiBzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRcdGNvbGxlY3Rpb25PYmpbc2VsZWN0ZWRDYXRlZ29yeV0uZmlsdGVyKChwcm9kdWN0KSA9PiB7XHJcblx0XHRcdFx0aWYgKHByb2R1Y3QuYnJhbmQgPT09IHNlbGVjdGVkQnJhbmQpIHtcclxuXHRcdFx0XHRcdHByb2R1Y3RDYXJkSHRtbChzZWxlY3RlZENvbGxlY3Rpb24sIHNlbGVjdGVkQ2F0ZWdvcnksIHByb2R1Y3QsIGNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRwcm9kdWN0LmNvbGxlY3Rpb24gPSBzZWxlY3RlZENvbGxlY3Rpb247XHJcblx0XHRcdFx0XHRwcm9kdWN0LmNhdGVnb3J5ID0gc2VsZWN0ZWRDYXRlZ29yeTtcclxuXHRcdFx0XHRcdHRlbXBQcm9kdWN0QXJyLnB1c2gocHJvZHVjdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKHNlbGVjdGVkQnJhbmQgJiYgc2VsZWN0ZWRDb2xsZWN0aW9uICE9PSAnYWxsJyAmJiAhc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBjb2xsZWN0aW9uT2JqKSB7XHJcblx0XHRcdFx0Y29sbGVjdGlvbk9ialtjYXRlZ29yeV0uZmlsdGVyKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHByb2R1Y3QuYnJhbmQgPT09IHNlbGVjdGVkQnJhbmQpIHtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdENhcmRIdG1sKHNlbGVjdGVkQ29sbGVjdGlvbiwgY2F0ZWdvcnksIHByb2R1Y3QsIGNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdHByb2R1Y3QuY29sbGVjdGlvbiA9IHNlbGVjdGVkQ29sbGVjdGlvbjtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0XHR0ZW1wUHJvZHVjdEFyci5wdXNoKHByb2R1Y3QpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIGlmIChzZWxlY3RlZEJyYW5kICYmIHNlbGVjdGVkQ29sbGVjdGlvbiA9PT0gJ2FsbCcpIHtcclxuXHRcdFx0T2JqZWN0LmtleXMoZGF0YU9iaikuZm9yRWFjaChjb2xsZWN0aW9uID0+IHtcclxuXHRcdFx0XHRsZXQgY29sbGVjdGlvbk9iaiA9IGRhdGFPYmpbY29sbGVjdGlvbl07XHJcblxyXG5cdFx0XHRcdGZvciAobGV0IGNhdGVnb3J5IGluIGNvbGxlY3Rpb25PYmopIHtcclxuXHRcdFx0XHRcdGNvbGxlY3Rpb25PYmpbY2F0ZWdvcnldLmZpbHRlcihwcm9kdWN0ID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb2R1Y3QuYnJhbmQgPT09IHNlbGVjdGVkQnJhbmQpIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoY29sbGVjdGlvbiwgY2F0ZWdvcnksIHByb2R1Y3QsIGNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcblx0XHRcdFx0XHRcdFx0dGVtcFByb2R1Y3RBcnIucHVzaChwcm9kdWN0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdC8vIGdldFRlbXBBcnJQcm9kdWN0cyh0ZW1wUHJvZHVjdEFycik7XHJcblx0XHR0ZW1wQXJyID0gWy4uLnRlbXBQcm9kdWN0QXJyXVxyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvUHJvZHVjdENhcmQoY29udGFpbmVyKSB7XHJcblx0Y29uc3Qgb3BlblByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3Blbi1wcm9kdWN0Jyk7XHJcblx0Ly8gY29uc3QgYnV5UHJvZHVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXktcHJvZHVjdCcpO1xyXG5cclxuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGNvbnN0IHByb2R1Y3RJZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuXHRcdGNvbnN0IHByb2R1Y3RDb2xsZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XHJcblx0XHRsZXQgYnRuID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1idG4nKTtcclxuXHJcblx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdJJykge1xyXG5cdFx0XHRidG4gPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnRuJyk7XHJcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChidG4gPT09ICdvcGVuLXByb2R1Y3QnKSB7XHJcblxyXG5cdFx0XHRzZXREYXRhSW5Mb2NhbFN0b3JhZ2UocHJvZHVjdENvbGxlY3Rpb24sIHByb2R1Y3RJZCk7XHJcblx0XHRcdG9wZW5Qcm9kdWN0LmZvckVhY2goYnRuID0+IGxvY2F0aW9uLmhyZWY9XCIvc2luZ2xlLXByb2R1Y3QuaHRtbFwiKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKGJ0biA9PT0gJ2J1eS1wcm9kdWN0Jykge1xyXG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gZGF0YU9ialtwcm9kdWN0Q29sbGVjdGlvbl07XHJcblx0XHRcdGxldCBpdGVtID0ge307XHJcblxyXG5cdFx0XHRPYmplY3QudmFsdWVzKGNvbGxlY3Rpb24pLmZvckVhY2goY2F0ZWdvcmllcyA9PiB7XHJcblx0XHRcdFx0Y2F0ZWdvcmllcy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHByb2R1Y3RJZCA9PT0gcHJvZHVjdC5pZCkge1xyXG5cdFx0XHRcdFx0XHRpdGVtLmNvbGxlY3Rpb24gPSBwcm9kdWN0Q29sbGVjdGlvbixcclxuXHRcdFx0XHRcdFx0XHRpdGVtLmlkID0gcHJvZHVjdElkO1xyXG5cdFx0XHRcdFx0XHRpdGVtLm5hbWUgPSBwcm9kdWN0Lm5hbWU7XHJcblx0XHRcdFx0XHRcdGl0ZW0ucGhvdG8gPSBwcm9kdWN0LnBob3RvWzBdO1xyXG5cdFx0XHRcdFx0XHRpdGVtLnByaWNlID0gcHJvZHVjdC5wcmljZTtcclxuXHRcdFx0XHRcdFx0aXRlbS5xdWFudGl0eSA9IFwiMVwiO1xyXG5cdFx0XHRcdFx0XHRpdGVtLnNpemUgPSBwcm9kdWN0LnNpemVbMF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0c2V0QnV5UHJvZHVjdEluTFMoaXRlbSk7XHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJUb1ByaWNlRmlsdGVyKCkge1xyXG5cdGNvbnN0IGZvcm1QcmljZSA9IGRvY3VtZW50LmZvcm1zLmZvcm1QcmljZUZpbHRlcjtcclxuXHJcblx0Zm9ybVByaWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0Y29uc3QgbWluVmFsdWVQcmljZSA9IGZvcm1QcmljZS5lbGVtZW50cy5taW5QcmljZS52YWx1ZTtcclxuXHRcdFx0Y29uc3QgbWF4VmFsdWVQcmljZSA9IGZvcm1QcmljZS5lbGVtZW50cy5tYXhQcmljZS52YWx1ZTtcclxuXHJcblx0XHRcdHByaWNlRmlsdGVyKG1pblZhbHVlUHJpY2UsIG1heFZhbHVlUHJpY2UpO1xyXG5cclxuXHRcdH0sIDMwMDApO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvU29ydFNlbGVjdGlvbih0ZW1wQXJyKSB7XHJcblx0Y29uc3Qgc2VsZWN0aW9uU29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXNvcnRpbmcnKTtcclxuXHRjb25zdCBzZWxlY3Rpb25RdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXNob3ctcXVhbnRpdHknKTtcclxuXHRjb25zdCBwcm9kdWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvdy1wcm9kdWN0cy1saXN0Jyk7XHJcblxyXG5cdC8vIHNlbGVjdGlvblNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzb3J0UHJvZHVjdHMoc2VsZWN0aW9uU29ydC52YWx1ZSwgcHJvZHVjdENvbnRhaW5lcikpO1xyXG5cdC8vIHNlbGVjdGlvblF1YW50aXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd1F1YW50aXR5UHJvZHVjdHNPblRoZVBhZ2Uoc2VsZWN0aW9uUXVhbnRpdHkudmFsdWUsIHByb2R1Y3RDb250YWluZXIpKTtcclxuXHRzZWxlY3Rpb25Tb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc29ydFByb2R1Y3RzKHNlbGVjdGlvblNvcnQudmFsdWUsIHByb2R1Y3RDb250YWluZXIsIHRlbXBBcnIpKTtcclxuXHRzZWxlY3Rpb25RdWFudGl0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dRdWFudGl0eVByb2R1Y3RzT25UaGVQYWdlKHNlbGVjdGlvblF1YW50aXR5LnZhbHVlLCBwcm9kdWN0Q29udGFpbmVyLCB0ZW1wQXJyKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByaWNlRmlsdGVyKG1pbiwgbWF4KSB7XHJcblx0Y29uc3QgZm9ybUNvbGxlY3Rpb24gPSBkb2N1bWVudC5mb3Jtcy5mb3JtQ29sbGVjdGlvbjtcclxuXHRjb25zdCBmb3JtQ2F0ZWdvcmllcyA9IGRvY3VtZW50LmZvcm1zLmZvcm1DYXRlZ29yaWVzO1xyXG5cdGNvbnN0IGZvcm1CcmFuZHMgPSBkb2N1bWVudC5mb3Jtcy5mb3JtQnJhbmRzO1xyXG5cdGxldCBmb3JtQXJyID0gW2Zvcm1Db2xsZWN0aW9uLCBmb3JtQ2F0ZWdvcmllcywgZm9ybUJyYW5kc107XHJcblx0bGV0IHNlbGVjdGVkQ29sbGVjdGlvbjtcclxuXHRsZXQgc2VsZWN0ZWRDYXRlZ29yeTtcclxuXHJcblx0aWYgKHByaWNlRmlsdGVyVmFsaWRhdGlvbihtaW4sIG1heCkpIHtcclxuXHRcdGZvcm1BcnIuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0Zm9yIChsZXQgaW5wdXQgb2YgaXRlbS5lbGVtZW50cykge1xyXG5cdFx0XHRcdGlmIChpbnB1dC5jaGVja2VkKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlucHV0Lm5hbWUgPT09ICdjb2xsZWN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZENvbGxlY3Rpb24gPSBpbnB1dC5pZDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoaW5wdXQubmFtZSA9PT0gJ2NhdGVnb3JpZXMnKSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkQ2F0ZWdvcnkgPSBpbnB1dC5pZDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzaG93UHJvZHVjdHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5LCBtaW4sIG1heCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBwcmljZUZpbHRlclZhbGlkYXRpb24obWluLCBtYXgpIHtcclxuXHRjb25zdCBtaW5JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5QcmljZScpO1xyXG5cdGNvbnN0IG1heElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21heFByaWNlJyk7XHJcblxyXG5cdGlmIChpc05hTigrbWluKSB8fCAhbWluKSB7XHJcblx0XHRtaW5JbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdFx0bWF4SW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9IGVsc2UgaWYgKGlzTmFOKCttYXgpIHx8ICFtYXgpIHtcclxuXHRcdG1pbklucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcblx0XHRtYXhJbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0bWluSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRtYXhJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc29ydFByb2R1Y3RzKHNvcnRPcHRpb24sIHByb2R1Y3RDb250YWluZXIpIHtcclxuXHRsZXQgYXJyYXlPZlByb2R1Y3RzT2JqID0gW107XHJcblxyXG5cdGlmIChBcnJheS5pc0FycmF5KHRlbXBBcnJbMF0pKSB7XHJcblx0XHR0ZW1wQXJyLmZvckVhY2goaXRlbSA9PiBpdGVtLmZvckVhY2godmFsdWUgPT4gYXJyYXlPZlByb2R1Y3RzT2JqLnB1c2godmFsdWUpKSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGFycmF5T2ZQcm9kdWN0c09iaiA9IHRlbXBBcnI7XHJcblx0fVxyXG5cclxuXHRwcm9kdWN0Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cclxuXHRzd2l0Y2ggKHNvcnRPcHRpb24pIHtcclxuXHRcdGNhc2UgJ2RlZmF1bHQnOlxyXG5cdFx0XHRhcnJheU9mUHJvZHVjdHNPYmouc29ydChhcnJheVNvcnRpbmdCeUlEKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSAncG9wdWxhcml0eSc6XHJcblx0XHRcdGFycmF5T2ZQcm9kdWN0c09iai5zb3J0KHJhbmRvbVNvcnRpbmcpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlICduZXdlc3QtYXJyaXZhbHMnOlxyXG5cdFx0XHRhcnJheU9mUHJvZHVjdHNPYmouc29ydChyYW5kb21Tb3J0aW5nKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSAncHJpY2UtbG93LXRvLWhpZ2gnOlxyXG5cdFx0XHRhcnJheU9mUHJvZHVjdHNPYmouc29ydChhcnJheVNvcnRpbmcpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlICdwcmljZS1oaWdoLXRvLWxvdyc6XHJcblx0XHRcdGFycmF5T2ZQcm9kdWN0c09iai5zb3J0KGFycmF5U29ydGluZykucmV2ZXJzZSgpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdGFycmF5T2ZQcm9kdWN0c09iai5mb3JFYWNoKGl0ZW0gPT4gcHJvZHVjdENhcmRIdG1sKGl0ZW0uY29sbGVjdGlvbiwgaXRlbS5jYXRlZ29yeSwgaXRlbSwgcHJvZHVjdENvbnRhaW5lcikpO1xyXG5cdHRlbXBBcnIgPSBhcnJheU9mUHJvZHVjdHNPYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFycmF5U29ydGluZyhwcm9kdWN0QSwgcHJvZHVjdEIpIHtcclxuXHRpZiAoK3Byb2R1Y3RBLnByaWNlID4gK3Byb2R1Y3RCLnByaWNlKSB7XHJcblx0XHRyZXR1cm4gMTtcclxuXHR9IGVsc2UgaWYgKCtwcm9kdWN0QS5wcmljZSA9PT0gK3Byb2R1Y3RCLnByaWNlKSB7XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9IGVsc2UgaWYgKCtwcm9kdWN0QS5wcmljZSA8ICtwcm9kdWN0Qi5wcmljZSkge1xyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXJyYXlTb3J0aW5nQnlJRChwcm9kdWN0QSwgcHJvZHVjdEIpIHtcclxuXHRpZiAoK3Byb2R1Y3RBLmlkID4gK3Byb2R1Y3RCLmlkKSB7XHJcblx0XHRyZXR1cm4gMTtcclxuXHR9IGVsc2UgaWYgKCtwcm9kdWN0QS5pZCA9PT0gK3Byb2R1Y3RCLmlkKSB7XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9IGVsc2UgaWYgKCtwcm9kdWN0QS5pZCA8ICtwcm9kdWN0Qi5pZCkge1xyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmFuZG9tU29ydGluZygpIHtcclxuXHRyZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1F1YW50aXR5UHJvZHVjdHNPblRoZVBhZ2Uoc29ydE9wdGlvbiwgcHJvZHVjdENvbnRhaW5lcikge1xyXG5cdHByb2R1Y3RDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdGNvbnN0IHByb2R1Y3RzQXJyID0gWy4uLnRlbXBBcnJdO1xyXG5cdGxldCBuZXdBcnIgPSBbXTtcclxuXHRsZXQgYXJyUGFydHMgPSBNYXRoLmNlaWwocHJvZHVjdHNBcnIubGVuZ3RoIC8gK3NvcnRPcHRpb24pO1xyXG5cclxuXHJcblx0aWYgKHNvcnRPcHRpb24gPT09ICdzaG93IGFsbCcpIHtcclxuXHRcdHRlbXBBcnIuZm9yRWFjaChpdGVtID0+IHByb2R1Y3RDYXJkSHRtbChpdGVtLmNvbGxlY3Rpb24sIGl0ZW0uY2F0ZWdvcnksIGl0ZW0sIHByb2R1Y3RDb250YWluZXIpKTtcclxuXHRcdHNob3dQYWdlc1BhZ2luYXRpb25CdXR0b25zKCdhbGwnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IGFyclBhcnRzOyBpKyspIHtcclxuXHRcdGxldCBhcnIgPSBwcm9kdWN0c0Fyci5zbGljZShqLCArc29ydE9wdGlvbiArIGopO1xyXG5cdFx0aiArPSArc29ydE9wdGlvbjtcclxuXHRcdG5ld0Fyci5wdXNoKGFycik7XHJcblx0fVxyXG5cclxuXHR0ZW1wQXJyID0gbmV3QXJyO1xyXG5cdHNob3dQYWdlc1BhZ2luYXRpb25CdXR0b25zKGFyclBhcnRzLCB0ZW1wQXJyLCBwcm9kdWN0Q29udGFpbmVyKTtcclxuXHJcblx0dGVtcEFyclswXS5mb3JFYWNoKGl0ZW0gPT4gcHJvZHVjdENhcmRIdG1sKGl0ZW0uY29sbGVjdGlvbiwgaXRlbS5jYXRlZ29yeSwgaXRlbSwgcHJvZHVjdENvbnRhaW5lcikpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UGFnZXNQYWdpbmF0aW9uQnV0dG9ucyhsZW5ndGgsIG5ld0FyciwgcHJvZHVjdENvbnRhaW5lcikge1xyXG5cdGNvbnN0IG51bWJlcnNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1wYWdlcycpO1xyXG5cdG51bWJlcnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdGlmIChsZW5ndGggPT09ICdhbGwnIHx8IGxlbmd0aCA9PT0gMSkgcmV0dXJuO1xyXG5cclxuXHRjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuXHRsaXN0LmNsYXNzTGlzdC5hZGQoJ251bWJlci1wYWdlcy1saXN0Jyk7XHJcblx0bnVtYmVyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0KTtcclxuXHJcblx0bGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICc8bGkgY2xhc3M9XCJwYWdlcy1pdGVtXCIgZGF0YS1wYWdlLW51bWJlcj1cInByZXZcIj48PCBQcmV2PGxpPicpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aCArIDE7IGkrKykge1xyXG5cdFx0aWYgKGkgPT09IDEpIHtcclxuXHRcdFx0bGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGkgY2xhc3M9XCJwYWdlcy1pdGVtIHBhZ2VzLWl0ZW0tbnVtYmVyIGFjdGl2ZVwiIGRhdGEtcGFnZS1udW1iZXI9XCIke2l9XCI+JHtpfTxsaT5gKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGxpIGNsYXNzPVwicGFnZXMtaXRlbSBwYWdlcy1pdGVtLW51bWJlclwiIGRhdGEtcGFnZS1udW1iZXI9XCIke2l9XCI+JHtpfTxsaT5gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGxpIGNsYXNzPVwicGFnZXMtaXRlbVwiIGRhdGEtcGFnZS1udW1iZXI9XCJuZXh0XCI+TmV4dCA+PjxsaT4nKTtcclxuXHJcblx0c2V0TGlzdGVuZXJUb1BhZ2VCdXR0b25zKGxpc3QsIG5ld0FyciwgcHJvZHVjdENvbnRhaW5lcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExpc3RlbmVyVG9QYWdlQnV0dG9ucyhsaXN0LCBhcnJheSwgY29udGFpbmVyKSB7XHJcblx0bGV0IGluZGV4ID0gMDtcclxuXHRjb25zdCBidG5MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2VzLWl0ZW0tbnVtYmVyJyk7XHJcblxyXG5cdGxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGNvbnN0IGJ0biA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZS1udW1iZXInKTtcclxuXHJcblxyXG5cclxuXHRcdGlmICghYnRuKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSBpZiAoYnRuID09PSAnbmV4dCcpIHtcclxuXHRcdFx0KytpbmRleDtcclxuXHJcblx0XHRcdGlmIChpbmRleCA9PT0gYXJyYXkubGVuZ3RoKSB7XHJcblx0XHRcdFx0aW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIGlmIChidG4gPT09ICdwcmV2Jykge1xyXG5cdFx0XHQtLWluZGV4O1xyXG5cclxuXHRcdFx0aWYgKGluZGV4IDwgMCkge1xyXG5cdFx0XHRcdGluZGV4ID0gMDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGV4ID0gK2J0biAtMTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5kZXggPT09IGFycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHRpbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XHJcblx0XHR9IGVsc2UgaWYgKGluZGV4IDwgMCkge1xyXG5cdFx0XHRpbmRleCA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0YnRuTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpICYmICtidG4gIT09IGluZGV4KSB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0YnRuTGlzdFtpbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblxyXG5cdFx0Y29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0YXJyYXlbaW5kZXhdLmZvckVhY2gocHJvZHVjdCA9PiBwcm9kdWN0Q2FyZEh0bWwocHJvZHVjdC5jb2xsZWN0aW9uLCBwcm9kdWN0LmNhdGVnb3J5LCBwcm9kdWN0LCBjb250YWluZXIpKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJzVG9zZWFyY2hBcmVhKCkge1xyXG5cdGNvbnN0IGRhdGFTZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoUHJvZHVjdCcpO1xyXG5cdGNvbnN0IGJ0blNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0QnRuU2VhcmNoJyk7XHJcblxyXG5cdGRhdGFTZWFyY2gub25pbnB1dCA9ICgpID0+IHtcclxuXHRcdHNlYXJjaFByb2R1Y3QoZGF0YVNlYXJjaC52YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XHJcblx0fVxyXG5cclxuXHRidG5TZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWFyY2hQcm9kdWN0KGRhdGFTZWFyY2gudmFsdWUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoUHJvZHVjdChzdHJpbmcpIHtcclxuXHRjb25zdCBwcm9kdWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0LWNhcmQnKTtcclxuXHJcblx0aWYgKHN0cmluZyAhPT0gJycpIHtcclxuXHRcdHByb2R1Y3RMaXN0LmZvckVhY2gocHJvZHVjdCA9PiB7XHJcblx0XHRcdGlmIChwcm9kdWN0LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpLnNlYXJjaChzdHJpbmcpID09PSAtMSkge1xyXG5cdFx0XHRcdHByb2R1Y3QuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHByb2R1Y3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cHJvZHVjdExpc3QuZm9yRWFjaChwcm9kdWN0ID0+IHByb2R1Y3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldERhdGFJbkxvY2FsU3RvcmFnZShjb2xsZWN0aW9uLCBpZCkge1xyXG5cdGNvbnNvbGUubG9nKGNvbGxlY3Rpb24pO1xyXG5cdGNvbnNvbGUubG9nKGlkKTtcclxuXHJcblx0bGV0IGRhdGEgPSB7XHJcblx0XHRjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxyXG5cdFx0aWQ6IGlkXHJcblx0fTtcclxuXHJcblx0Y29uc29sZS5sb2coZGF0YSk7XHJcblxyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYXRhU2VsZWN0ZWRPYmonLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEJ1eVByb2R1Y3RJbkxTKGl0ZW0pIHtcclxuXHRsZXQgZGF0YUNhcmRHb29kcyA9IFtdO1xyXG5cclxuXHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGFDYXJ0JykpIHtcclxuXHJcblx0XHRkYXRhQ2FyZEdvb2RzID0gZ2V0RGF0YUZyb21MU1Nob3BwaW5nQ2FydCgpO1xyXG5cdH1cclxuXHJcblx0ZGF0YUNhcmRHb29kcy5wdXNoKGl0ZW0pO1xyXG5cclxuXHRsZXQgcXVhbnRpdHkgPSBkYXRhQ2FyZEdvb2RzLmxlbmd0aDtcclxuXHRzaG93UXVhbnRpdHlHb29kc0luQmFza2V0KHF1YW50aXR5KTtcclxuXHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RhdGFDYXJ0JywgSlNPTi5zdHJpbmdpZnkoZGF0YUNhcmRHb29kcykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhRnJvbUxTU2hvcHBpbmdDYXJ0KCkge1xyXG5cdGxldCBkYXRhQ2FyZEdvb2RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0YUNhcnQnKSk7XHJcblxyXG5cclxuXHRyZXR1cm4gZGF0YUNhcmRHb29kcztcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1F1YW50aXR5R29vZHNJbkJhc2tldChxdWFudGl0eUdvb2RzKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3cnKS5pbm5lckhUTUwgPSBxdWFudGl0eUdvb2RzO1xyXG59Il19
