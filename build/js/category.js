"use strict";function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,o=!0,c=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw n}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var tempArr=[];function showCategoriesList(e,t){var r=document.querySelector(".common-filter-categories");r.innerHTML="",r.insertAdjacentHTML("beforeend",'<div class="head">'.concat(t,'</div><form id="formCategories"><ul class="collection-categories"></ul></form>'));var a=document.querySelector(".collection-categories"),n=0;"all"===e?Object.keys(dataObj).forEach(function(e){Object.values(dataObj[e]).forEach(function(t){return n=t.length}),Object.keys(dataObj[e]).forEach(function(t){return a.insertAdjacentHTML("beforeend",'<li class="filter-list"><input class="pixel-radio" type="radio" id="'.concat(e).concat(t,'" name="categories"><label for="').concat(e).concat(t,'" data-collection="').concat(e,'" data-categories="').concat(t,'">').concat(e," ").concat(t,"<span> (").concat(n,")</span></label></li>"))})}):e&&(Object.values(dataObj[e]).forEach(function(t){return n=t.length}),Object.keys(dataObj[e]).forEach(function(t){a.insertAdjacentHTML("beforeend",'\n\t\t\t\t<li class="filter-list" data-collection="'.concat(e,'" data-categories="').concat(t,'"><input class="pixel-radio" type="radio" id="').concat(t,'" name="categories"><label for="').concat(t,'" data-collection="').concat(e,'" data-categories="').concat(t,'">').concat(e," ").concat(t,"<span> (").concat(n,")</span></label></li>\n\t\t\t"))}))}function showBrands(t,e){var r=document.querySelector(".common-filter-brands");r.innerHTML="",r.insertAdjacentHTML("beforeend",'<div class="head">Brands</div>'),r.insertAdjacentHTML("beforeend",'<form id="formBrands"><ul class="brands-filter"></ul></form>');var a=document.querySelector(".brands-filter"),n=[];if("all"===t)Object.keys(dataObj).forEach(function(t){return Object.values(dataObj[t]).forEach(function(t){return t.forEach(function(t){return n.push(t.brand)})})});else if(t&&!e)Object.values(dataObj[t]).forEach(function(t){return t.forEach(function(t){return n.push(t.brand)})});else if(t&&e){var o=dataObj[t];Object.values(o[e]).forEach(function(t){return n.push(t.brand)})}_toConsumableArray(new Set(n)).forEach(function(t){return a.insertAdjacentHTML("beforeend",'<li class="filter-list"><input class="pixel-radio" type="radio" id="'.concat(t,'" name="brand"><label for="').concat(t,'" data-brand="').concat(t,'">').concat(t,"</label></li>"))}),setListenerToBrands(a,t,e)}function showPriceFilter(){document.querySelector(".common-filter-price").insertAdjacentHTML("beforeend",'\n\t\t<div class="head">Price</div>\n\t\t<div class="price-range-area">\n\t\t\t<div class="value-wrapper d-flex flex-column">\n\t\t\t\t<form id="formPriceFilter">\n\t\t\t\t\t<label for="minPrice" class="price">Min($): \n\t\t\t\t\t\t<input class="input-price" type="text" name="minPrice" id="minPrice" placeholder="min value">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label for="maxPrice" class="price">Max($):\n\t\t\t\t\t\t<input class="input-price" type="text" name="maxPrice" id="maxPrice" placeholder="max value">\n\t\t\t\t\t</label>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t'),setListenerToPriceFilter()}function productCardHtml(t,e,r,a){a.insertAdjacentHTML("beforeend",'\n\t\t<div class="col-md-6 col-lg-4 product-card" data-collection="'.concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'">\n\t\t\t<div class="card text-center card-product">\n\t\t\t\t<div class="card-product__img">\n\t\t\t\t\t<img class="card-img" src="img/product/').concat(t,"/").concat(r.photo[0],'" alt="">\n\t\t\t\t\t<ul class="card-product__imgOverlay">\n\t\t\t\t\t\t<li><button class="open-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product"><i class="ti-search" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product"></i></button></li>\n\t\t\t\t\t\t<li><button class="buy-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="buy-product"><i class="ti-shopping-cart" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="buy-product"></i></button></li>\t\t\t\t\t\t\t\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="card-body">\n\t\t\t\t\t<p>').concat(e,'</p>\n\t\t\t\t\t<h4 class="card-product__title"><a href="single-product.html" class="open-product" data-collection="').concat(t,'" data-category="').concat(e,'" data-id="').concat(r.id,'" data-btn="open-product">').concat(r.name,'</a></h4>\n\t\t\t\t\t<p class="card-product__price">$').concat(r.price,"</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>"))}function showProducts(r,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:999999,c=document.querySelector(".row-products-list"),t=dataObj[r],i=[];if(c.innerHTML="","all"!==r&&r){if(r&&e)Object.values(t[e]).forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))});else if(r&&!e){var a=function(e){t[e].forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))})};for(var l in t)a(l)}}else{var s=function(r){function t(e){a[e].forEach(function(t){+t.price>=+n&&+t.price<=+o&&(productCardHtml(r,e,t,c),t.collection=r,t.category=e,i.push(t))})}var a=dataObj[r];for(var e in a)t(e)};for(var d in dataObj)s(d)}tempArr=[].concat(i)}function setListenerToCollections(t){t.addEventListener("click",function(t){var e=t.target.getAttribute("id");t.stopPropagation(),e&&(showProducts(e),showCategoriesList(e,"Categories"),showBrands(e))}),showProducts()}function setListenerToCategories(){document.querySelector(".common-filter-categories").addEventListener("click",function(t){var e=t.target.getAttribute("data-categories"),r=t.target.getAttribute("data-collection");(r||e)&&(showProducts(r,e),showBrands(r,e))})}function setListenerToBrands(t,i,l){t.addEventListener("click",function(t){var n=document.querySelector(".row-products-list"),o=t.target.getAttribute("id"),r=dataObj[i],c=[];if(o&&(n.innerHTML=""),o&&"all"!==i&&l)r[l].filter(function(t){t.brand===o&&(productCardHtml(i,l,t,n),t.collection=i,t.category=l,c.push(t))});else if(o&&"all"!==i&&!l){var e=function(e){r[e].filter(function(t){t.brand===o&&(productCardHtml(i,e,t,n),t.collection=i,t.category=e,c.push(t))})};for(var a in r)e(a)}else o&&"all"===i&&Object.keys(dataObj).forEach(function(r){function t(e){a[e].filter(function(t){t.brand===o&&(productCardHtml(r,e,t,n),t.collection=r,t.category=e,c.push(t))})}var a=dataObj[r];for(var e in a)t(e)});tempArr=[].concat(c)})}function setListenerToProductCard(t){var c=document.querySelectorAll(".open-product");t.addEventListener("click",function(t){var e=t.target.getAttribute("data-id"),r=t.target.getAttribute("data-collection"),a=t.target.getAttribute("data-btn");if("I"===t.target.tagName&&(a=t.target.parentNode.getAttribute("data-btn"),t.stopPropagation()),"open-product"===a)setDataInLocalStorage(r,e),c.forEach(function(t){return location.href="/single-product.html"});else if("buy-product"===a){var n=dataObj[r],o={};Object.values(n).forEach(function(t){t.forEach(function(t){e===t.id&&(o.collection=r,o.id=e,o.name=t.name,o.photo=t.photo[0],o.price=t.price,o.quantity="1",o.size=t.size[0])})}),setBuyProductInLS(o)}})}function setListenerToPriceFilter(){var e=document.forms.formPriceFilter;e.addEventListener("click",function(t){setTimeout(function(){priceFilter(e.elements.minPrice.value,e.elements.maxPrice.value)},3e3)})}function setListenerToSortSelection(t){var e=document.querySelector(".product-sorting"),r=document.querySelector(".product-show-quantity"),a=document.querySelector(".row-products-list");e.addEventListener("click",function(){return sortProducts(e.value,a,t)}),r.addEventListener("click",function(){return showQuantityProductsOnThePage(r.value,a,t)})}function priceFilter(n,o){var c,i,t=[document.forms.formCollection,document.forms.formCategories,document.forms.formBrands];priceFilterValidation(n,o)&&t.forEach(function(t){var e,r=_createForOfIteratorHelper(t.elements);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.checked&&("collection"===a.name&&(c=a.id),"categories"===a.name&&(i=a.id),showProducts(c,i,n,o))}}catch(t){r.e(t)}finally{r.f()}})}function priceFilterValidation(t,e){var r=document.getElementById("minPrice"),a=document.getElementById("maxPrice");return isNaN(+t)||!t?(r.classList.add("error"),a.classList.remove("error"),!1):isNaN(+e)||!e?(r.classList.remove("error"),a.classList.add("error"),!1):(r.classList.remove("error"),a.classList.remove("error"),!0)}function sortProducts(t,e){var r=[];switch(Array.isArray(tempArr[0])?tempArr.forEach(function(t){return t.forEach(function(t){return r.push(t)})}):r=tempArr,e.innerHTML="",t){case"default":r.sort(arraySortingByID);break;case"popularity":case"newest-arrivals":r.sort(randomSorting);break;case"price-low-to-high":r.sort(arraySorting);break;case"price-high-to-low":r.sort(arraySorting).reverse()}r.forEach(function(t){return productCardHtml(t.collection,t.category,t,e)}),tempArr=r}function arraySorting(t,e){return+t.price>+e.price?1:+t.price==+e.price?0:+t.price<+e.price?-1:void 0}function arraySortingByID(t,e){return+t.id>+e.id?1:+t.id==+e.id?0:+t.id<+e.id?-1:void 0}function randomSorting(){return Math.random()-.5}function showQuantityProductsOnThePage(t,e){e.innerHTML="";var r=_toConsumableArray(tempArr),a=[],n=Math.ceil(r.length/t);if("show all"===t)return tempArr.forEach(function(t){return productCardHtml(t.collection,t.category,t,e)}),void showPagesPaginationButtons("all");for(var o=0,c=0;o<n;o++){var i=r.slice(c,+t+c);c+=+t,a.push(i)}showPagesPaginationButtons(n,tempArr=a,e),tempArr[0].forEach(function(t){return productCardHtml(t.collection,t.category,t,e)})}function showPagesPaginationButtons(t,e,r){var a=document.querySelector(".product-pages");if(a.innerHTML="","all"!==t&&1!==t){var n=document.createElement("ul");n.classList.add("number-pages-list"),a.appendChild(n),n.insertAdjacentHTML("beforeend",'<li class="pages-item" data-page-number="prev"><< Prev<li>');for(var o=1;o<t+1;o++)1===o?n.insertAdjacentHTML("beforeend",'<li class="pages-item pages-item-number active" data-page-number="'.concat(o,'">').concat(o,"<li>")):n.insertAdjacentHTML("beforeend",'<li class="pages-item pages-item-number" data-page-number="'.concat(o,'">').concat(o,"<li>"));n.insertAdjacentHTML("beforeend",'<li class="pages-item" data-page-number="next">Next >><li>'),setListenerToPageButtons(n,e,r)}}function setListenerToPageButtons(t,r,a){var n=0,o=document.querySelectorAll(".pages-item-number");t.addEventListener("click",function(t){var e=t.target.getAttribute("data-page-number");e&&("next"===e?++n===r.length&&(n=r.length-1):"prev"===e?--n<0&&(n=0):n=e-1,n===r.length?n=r.length-1:n<0&&(n=0),o.forEach(function(t){t.classList.contains("active")&&+e!==n&&t.classList.remove("active")}),o[n].classList.add("active"),a.innerHTML="",r[n].forEach(function(t){return productCardHtml(t.collection,t.category,t,a)}))})}function setListenersTosearchArea(){var t=document.getElementById("searchProduct"),e=document.getElementById("productBtnSearch");t.oninput=function(){searchProduct(t.value.toLowerCase().trim())},e.addEventListener("click",function(){return searchProduct(t.value)})}function searchProduct(e){var t=document.querySelectorAll(".product-card");""!==e?t.forEach(function(t){-1===t.innerText.toLowerCase().search(e)?t.classList.add("hide"):t.classList.remove("hide")}):t.forEach(function(t){return t.classList.remove("hide")})}function setDataInLocalStorage(t,e){console.log(t),console.log(e);var r={collection:t,id:e};console.log(r),localStorage.setItem("dataSelectedObj",JSON.stringify(r))}function setBuyProductInLS(t){var e=[];localStorage.getItem("dataCart")&&(e=getDataFromLSShoppingCart()),e.push(t),showQuantityGoodsInBasket(e.length),localStorage.setItem("dataCart",JSON.stringify(e))}function getDataFromLSShoppingCart(){return JSON.parse(localStorage.getItem("dataCart"))}function showQuantityGoodsInBasket(t){document.getElementById("show").innerHTML=t}!function(){var t=document.querySelector(".sidebar-categories");t.insertAdjacentHTML("beforeend",'<div class="head">Collection</div>'),t.insertAdjacentHTML("beforeend",'<form id="formCollection"><ul class="main-collection"></ul></form>');var a=document.querySelector(".main-collection"),e=document.querySelector(".row-products-list"),n=0;Object.keys(dataObj).forEach(function(t){var e=0,r=dataObj[t];Object.keys(r).forEach(function(t){e+=r[t].length,n+=r[t].length}),a.insertAdjacentHTML("beforeend",'<li class="filter-list collection-item"><input class="pixel-radio" type="radio" id="'.concat(t,'" name="collection"><label for="').concat(t,'">').concat(t,"'s<span> (").concat(e,")</span></label></li>"))}),a.insertAdjacentHTML("afterbegin",'<li class="filter-list collection-item"><input class="pixel-radio" type="radio" id="all" name="collection" checked><label for="all">All<span> ('.concat(n,")</span></label></li>")),showCategoriesList("all","Categories"),showBrands("all"),setListenerToCollections(t),setListenerToSortSelection(),showPriceFilter(),setListenerToProductCard(e),setListenerToCategories(),setListenersTosearchArea()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3J5LmpzIl0sIm5hbWVzIjpbInRlbXBBcnIiLCJzZXRMaXN0ZW5lclRvQ29sbGVjdGlvbnMiLCJjb250YWluZXIiLCJ0aXRsZSIsInNldExpc3RlbmVyVG9Tb3J0U2VsZWN0aW9uIiwicXVlcnlTZWxlY3RvciIsInNob3dQcmljZUZpbHRlciIsInNldExpc3RlbmVyVG9Qcm9kdWN0Q2FyZCIsImNvbnRhaW5lclByb2R1Y3RzIiwic2V0TGlzdGVuZXJUb0NhdGVnb3JpZXMiLCJkb2N1bWVudCIsInNldExpc3RlbmVyc1Rvc2VhcmNoQXJlYSIsInNlbGVjdGVkQ29sbGVjdGlvbiIsIk9iamVjdCIsInNob3dDYXRlZ29yaWVzTGlzdCIsImRhdGFPYmoiLCJxdWFudGl0eSIsImFtb3VudCIsImxlbmd0aCIsImluc2VydEFkamFjZW50SFRNTCIsImZvckVhY2giLCJjYXRlZ29yaWVzIiwiY29sbGVjdGlvbkNhdGVnb3JpZXMiLCJjb25jYXQiLCJjb2xsZWN0aW9uIiwidmFsdWVzIiwiaW5uZXJIVE1MIiwia2V5cyIsImJyYW5kc0NvbnRhaW5lciIsInRlbXBBcnJCcmFuZHMiLCJzaG93QnJhbmRzIiwic2VsZWN0ZWRDYXRlZ29yeSIsInByb2R1Y3QiLCJwdXNoIiwiYnJhbmQiLCJTZXQiLCJicmFuZEl0ZW0iLCJzZXRMaXN0ZW5lclRvQnJhbmRzIiwic2V0TGlzdGVuZXJUb1ByaWNlRmlsdGVyIiwicHJvZHVjdENhcmRIdG1sIiwiY2F0ZWdvcnkiLCJpZCIsInBob3RvIiwibmFtZSIsInByaWNlIiwic2hvd1Byb2R1Y3RzIiwibWluIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwibWF4IiwicHJvZHVjdENvbGxlY3Rpb24iLCJhbGxQcm9kdWN0cyIsInRlbXBQcm9kdWN0QXJyIiwiX2xvb3AzIiwiX2xvb3AiLCJfbG9vcDIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZEJyYW5kIiwiY29sbGVjdGlvbk9iaiIsImZpbHRlciIsIl9sb29wNCIsIl9sb29wNSIsIm9wZW5Qcm9kdWN0IiwicXVlcnlTZWxlY3RvckFsbCIsInByb2R1Y3RJZCIsImJ0biIsInRhZ05hbWUiLCJwYXJlbnROb2RlIiwibG9jYXRpb24iLCJocmVmIiwic2V0RGF0YUluTG9jYWxTdG9yYWdlIiwiaXRlbSIsInNldEJ1eVByb2R1Y3RJbkxTIiwiZm9ybVByaWNlIiwiZm9ybXMiLCJmb3JtUHJpY2VGaWx0ZXIiLCJzZXRUaW1lb3V0IiwicHJpY2VGaWx0ZXIiLCJ2YWx1ZSIsImVsZW1lbnRzIiwibWF4UHJpY2UiLCJzZWxlY3Rpb25Tb3J0Iiwic2VsZWN0aW9uUXVhbnRpdHkiLCJzb3J0UHJvZHVjdHMiLCJwcm9kdWN0Q29udGFpbmVyIiwic2hvd1F1YW50aXR5UHJvZHVjdHNPblRoZVBhZ2UiLCJmb3JtQXJyIiwiZm9ybUNvbGxlY3Rpb24iLCJmb3JtQ2F0ZWdvcmllcyIsImZvcm1CcmFuZHMiLCJwcmljZUZpbHRlclZhbGlkYXRpb24iLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwiaW5wdXQiLCJjaGVja2VkIiwiZXJyIiwiZSIsImYiLCJtYXhJbnB1dCIsImdldEVsZW1lbnRCeUlkIiwiaXNOYU4iLCJtaW5JbnB1dCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNvcnRPcHRpb24iLCJhcnJheU9mUHJvZHVjdHNPYmoiLCJhcnJheVNvcnRpbmdCeUlEIiwic29ydCIsInJhbmRvbVNvcnRpbmciLCJwcm9kdWN0QSIsInByb2R1Y3RCIiwiTWF0aCIsInJhbmRvbSIsInByb2R1Y3RzQXJyIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwibmV3QXJyIiwiYXJyUGFydHMiLCJjZWlsIiwic2hvd1BhZ2VzUGFnaW5hdGlvbkJ1dHRvbnMiLCJpIiwiYXJyIiwic2xpY2UiLCJqIiwibnVtYmVyc0NvbnRhaW5lciIsImxpc3QiLCJjcmVhdGVFbGVtZW50Iiwic2V0TGlzdGVuZXJUb1BhZ2VCdXR0b25zIiwiYXJyYXkiLCJhcHBlbmRDaGlsZCIsImluZGV4IiwiY29udGFpbnMiLCJidG5MaXN0IiwiYnRuU2VhcmNoIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic2VhcmNoUHJvZHVjdCIsImRhdGFTZWFyY2giLCJzdHJpbmciLCJwcm9kdWN0TGlzdCIsIm9uaW5wdXQiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhQ2FyZEdvb2RzIiwiZ2V0RGF0YUZyb21MU1Nob3BwaW5nQ2FydCIsInNob3dRdWFudGl0eUdvb2RzSW5CYXNrZXQiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsInF1YW50aXR5R29vZHMiLCJjb2xsZWN0aW9uTGlzdCIsInRvdGFsQW1vdW50IiwiY29sbGVjdGlvbkl0ZW0iLCJjb2xsSXRlbXMiLCJzaG93Q29sbGVjdGlvbkxpc3QiXSwibWFwcGluZ3MiOiJBQUFBLCtsREFFQSxJQUFJQSxRQUFVLEdBMkJiQyxTQUFBQSxtQkFBeUJDLEVBQXpCQyxHQUNBQyxJQUFBQSxFQUFBQSxTQUEwQkMsY0FBQSw2QkFDMUJDLEVBQUFBLFVBQWUsR0FDZkMsRUFBQUEsbUJBQXlCQyxZQUF6QkQscUJBQUFBLE9BQUFKLEVBQUFJLG1GQUNBRSxJQUFBQSxFQUF1QkMsU0FBQUwsY0FBQSwwQkFDdkJNLEVBQUFBLEVBVTJCLFFBQXZCQyxFQVBMQyxPQUFTQyxLQUFBQSxTQUFBQSxRQUFtQkYsU0FBQUEsR0FDM0JDLE9BQU1YLE9BQVNhLFFBQUdMLElBQVNMLFFBQWMsU0FBQVcsR0FBQSxPQUFBQyxFQUFBRCxFQUF6Q0UsU0FFQWhCLE9BQUFBLEtBQVVpQixRQUFBQSxJQUFtQkMsUUFBN0IsU0FBQUMsR0FBQSxPQUFBQyxFQUFBSCxtQkFBQSxZQUFBLHVFQUFBSSxPQUFBQyxHQUFBRCxPQUFBRixFQUFBLG9DQUFBRSxPQUFBQyxHQUFBRCxPQUFBRixFQUFBLHVC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QVgzSCxLQUFBMEMsR0FRQW1GLDBCQURhQyxFQUFRN0ksUUFHdEJ1SSxhQUFTN0UsUUFBQUEsV0FBd0I4RSxLQUFBQyxVQUFBQyxJQUdoQyxTQUFJSCw0QkFHSCxPQURnQkksS0FBQUEsTUFBQUEsYUFBeUJHLFFBQXpDLGFBS0QsU0FBSWhKLDBCQUF5QkUsR0FDN0I0SSxTQUFBQSxlQUFBQSxRQUEwQjlJLFVBQTFCaUosR0Exa0JELFdBQ0MsSUFBTS9KLEVBQVlRLFNBQVNMLGNBQWMsdUJBQ3pDSCxFQUFVaUIsbUJBQW1CLFlBQTdCLHNDQUNBakIsRUFBVWlCLG1CQUFtQixZQUE3QixzRUFDQSxJQUFNK0ksRUFBaUJ4SixTQUFTTCxjQUFjLG9CQUN4Q0csRUFBb0JFLFNBQVNMLGNBQWMsc0JBRTdDOEosRUFBYyxFQUVsQnRKLE9BQU9jLEtBQUtaLFNBQVNLLFFBQVEsU0FBQ2dKLEdBQzdCLElBQUluSixFQUFTLEVBQ1RvSixFQUFZdEosUUFBUXFKLEdBRXhCdkosT0FBT2MsS0FBSzBJLEdBQVdqSixRQUFRLFNBQUN1RCxHQWJqQzFELEdBQVNxSixFQUFBQSxHQUFUcEosT0FDQWlKLEdBQWtCekosRUFBU0wsR0FBQUEsU0FHM0I2SixFQUFNQSxtQkFBMEI3SixZQUFoQyx1RkFBQWtCLE9BQUE2SSxFQUFBLG9DQUFBN0ksT0FBQTZJLEVBQUEsTUFBQTdJLE9BQUE2SSxFQUFBLGNBQUE3SSxPQUFBTixFQUFBLDRCQUtBSixFQUFZRSxtQkFBaUIsYUFBN0JGLGtKQUFBQSxPQUFpRHNKLEVBQWpEdEosMEJBRUNDLG1CQUFnQkMsTUFBTyxjQUV2QkYsV0FBT2MsT0FDTlYseUJBQW9CMEQsR0FDcEJ3Riw2QkFDQTdKLGtCQUVENEoseUJBQWUvSSxHQUNmViwwQkFFRHlKLDJCQXJCRCIsImZpbGUiOiJjYXRlZ29yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmxldCB0ZW1wQXJyID0gW107XHJcblxyXG4oZnVuY3Rpb24gc2hvd0NvbGxlY3Rpb25MaXN0KCkge1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyLWNhdGVnb3JpZXMnKTtcclxuXHRjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGRpdiBjbGFzcz1cImhlYWRcIj5Db2xsZWN0aW9uPC9kaXY+YCk7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxmb3JtIGlkPVwiZm9ybUNvbGxlY3Rpb25cIj48dWwgY2xhc3M9XCJtYWluLWNvbGxlY3Rpb25cIj48L3VsPjwvZm9ybT5gKTtcclxuXHRjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLWNvbGxlY3Rpb24nKTtcclxuXHRjb25zdCBjb250YWluZXJQcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctcHJvZHVjdHMtbGlzdCcpO1xyXG5cdFxyXG5cdGxldCB0b3RhbEFtb3VudCA9IDA7ICAgIFxyXG5cdFxyXG5cdE9iamVjdC5rZXlzKGRhdGFPYmopLmZvckVhY2goKGNvbGxlY3Rpb25JdGVtKSA9PiB7XHJcblx0XHRsZXQgYW1vdW50ID0gMDtcclxuXHRcdGxldCBjb2xsSXRlbXMgPSBkYXRhT2JqW2NvbGxlY3Rpb25JdGVtXTtcclxuXHJcblx0XHRPYmplY3Qua2V5cyhjb2xsSXRlbXMpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0YW1vdW50ICs9IGNvbGxJdGVtc1tpdGVtXS5sZW5ndGg7XHJcblx0XHRcdHRvdGFsQW1vdW50ICs9IGNvbGxJdGVtc1tpdGVtXS5sZW5ndGg7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Y29sbGVjdGlvbkxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGxpIGNsYXNzPVwiZmlsdGVyLWxpc3QgY29sbGVjdGlvbi1pdGVtXCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cIiR7Y29sbGVjdGlvbkl0ZW19XCIgbmFtZT1cImNvbGxlY3Rpb25cIj48bGFiZWwgZm9yPVwiJHtjb2xsZWN0aW9uSXRlbX1cIj4ke2NvbGxlY3Rpb25JdGVtfSdzPHNwYW4+ICgke2Ftb3VudH0pPC9zcGFuPjwvbGFiZWw+PC9saT5gKTtcdFx0XHJcblx0fSk7XHJcblxyXG5cdGNvbGxlY3Rpb25MaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8bGkgY2xhc3M9XCJmaWx0ZXItbGlzdCBjb2xsZWN0aW9uLWl0ZW1cIj48aW5wdXQgY2xhc3M9XCJwaXhlbC1yYWRpb1wiIHR5cGU9XCJyYWRpb1wiIGlkPVwiYWxsXCIgbmFtZT1cImNvbGxlY3Rpb25cIiBjaGVja2VkPjxsYWJlbCBmb3I9XCJhbGxcIj5BbGw8c3Bhbj4gKCR7dG90YWxBbW91bnR9KTwvc3Bhbj48L2xhYmVsPjwvbGk+YCk7XHJcblx0XHJcblx0c2hvd0NhdGVnb3JpZXNMaXN0KCdhbGwnLCAnQ2F0ZWdvcmllcycpO1xyXG5cdHNob3dCcmFuZHMoJ2FsbCcpO1xyXG5cdHNldExpc3RlbmVyVG9Db2xsZWN0aW9ucyhjb250YWluZXIpO1xyXG5cdHNldExpc3RlbmVyVG9Tb3J0U2VsZWN0aW9uKCk7XHJcblx0c2hvd1ByaWNlRmlsdGVyKCk7XHJcblx0c2V0TGlzdGVuZXJUb1Byb2R1Y3RDYXJkKGNvbnRhaW5lclByb2R1Y3RzKTtcclxuXHRzZXRMaXN0ZW5lclRvQ2F0ZWdvcmllcygpO1xyXG5cdHNldExpc3RlbmVyc1Rvc2VhcmNoQXJlYSgpO1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gc2hvd0NhdGVnb3JpZXNMaXN0KHNlbGVjdGVkQ29sbGVjdGlvbiwgdGl0bGUpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbW9uLWZpbHRlci1jYXRlZ29yaWVzJyk7XHJcblx0Y29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cdGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8ZGl2IGNsYXNzPVwiaGVhZFwiPiR7dGl0bGV9PC9kaXY+PGZvcm0gaWQ9XCJmb3JtQ2F0ZWdvcmllc1wiPjx1bCBjbGFzcz1cImNvbGxlY3Rpb24tY2F0ZWdvcmllc1wiPjwvdWw+PC9mb3JtPmApO1xyXG5cdGNvbnN0IGNvbGxlY3Rpb25DYXRlZ29yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb24tY2F0ZWdvcmllcycpO1xyXG5cdGxldCBhbW91bnQgPSAwO1xyXG5cclxuXHRpZiAoc2VsZWN0ZWRDb2xsZWN0aW9uID09PSAnYWxsJykge1xyXG5cdFx0T2JqZWN0LmtleXMoZGF0YU9iaikuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xyXG5cdFx0XHRPYmplY3QudmFsdWVzKGRhdGFPYmpbY29sbGVjdGlvbl0pLmZvckVhY2gocXVhbnRpdHkgPT4gYW1vdW50ID0gcXVhbnRpdHkubGVuZ3RoKTtcclxuXHRcdFx0XHJcblx0XHRcdE9iamVjdC5rZXlzKGRhdGFPYmpbY29sbGVjdGlvbl0pLmZvckVhY2goY2F0ZWdvcmllcyA9PiBjb2xsZWN0aW9uQ2F0ZWdvcmllcy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGkgY2xhc3M9XCJmaWx0ZXItbGlzdFwiPjxpbnB1dCBjbGFzcz1cInBpeGVsLXJhZGlvXCIgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2NvbGxlY3Rpb259JHtjYXRlZ29yaWVzfVwiIG5hbWU9XCJjYXRlZ29yaWVzXCI+PGxhYmVsIGZvcj1cIiR7Y29sbGVjdGlvbn0ke2NhdGVnb3JpZXN9XCIgZGF0YS1jb2xsZWN0aW9uPVwiJHtjb2xsZWN0aW9ufVwiIGRhdGEtY2F0ZWdvcmllcz1cIiR7Y2F0ZWdvcmllc31cIj4ke2NvbGxlY3Rpb259ICR7Y2F0ZWdvcmllc308c3Bhbj4gKCR7YW1vdW50fSk8L3NwYW4+PC9sYWJlbD48L2xpPmApKTtcdFx0XHRcclxuXHRcdH0pO1x0XHRcdFxyXG5cclxuXHR9IGVsc2UgaWYgKHNlbGVjdGVkQ29sbGVjdGlvbikge1xyXG5cdFx0T2JqZWN0LnZhbHVlcyhkYXRhT2JqW3NlbGVjdGVkQ29sbGVjdGlvbl0pLmZvckVhY2gocXVhbnRpdHkgPT4gYW1vdW50ID0gcXVhbnRpdHkubGVuZ3RoKTtcclxuXHJcblx0XHRPYmplY3Qua2V5cyhkYXRhT2JqW3NlbGVjdGVkQ29sbGVjdGlvbl0pLmZvckVhY2goKGNhdGVnb3JpZXMpID0+IHtcclxuXHRcdFx0Y29sbGVjdGlvbkNhdGVnb3JpZXMuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgXHJcblx0XHRcdFx0PGxpIGNsYXNzPVwiZmlsdGVyLWxpc3RcIiBkYXRhLWNvbGxlY3Rpb249XCIke3NlbGVjdGVkQ29sbGVjdGlvbn1cIiBkYXRhLWNhdGVnb3JpZXM9XCIke2NhdGVnb3JpZXN9XCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cIiR7Y2F0ZWdvcmllc31cIiBuYW1lPVwiY2F0ZWdvcmllc1wiPjxsYWJlbCBmb3I9XCIke2NhdGVnb3JpZXN9XCIgZGF0YS1jb2xsZWN0aW9uPVwiJHtzZWxlY3RlZENvbGxlY3Rpb259XCIgZGF0YS1jYXRlZ29yaWVzPVwiJHtjYXRlZ29yaWVzfVwiPiR7c2VsZWN0ZWRDb2xsZWN0aW9ufSAke2NhdGVnb3JpZXN9PHNwYW4+ICgke2Ftb3VudH0pPC9zcGFuPjwvbGFiZWw+PC9saT5cclxuXHRcdFx0YCk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dCcmFuZHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1vbi1maWx0ZXItYnJhbmRzJyk7XHJcblx0Y29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cdGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8ZGl2IGNsYXNzPVwiaGVhZFwiPkJyYW5kczwvZGl2PmApO1xyXG5cdGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8Zm9ybSBpZD1cImZvcm1CcmFuZHNcIj48dWwgY2xhc3M9XCJicmFuZHMtZmlsdGVyXCI+PC91bD48L2Zvcm0+YCk7XHJcblx0Y29uc3QgYnJhbmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyYW5kcy1maWx0ZXInKTtcdFxyXG5cdGNvbnN0IHRlbXBBcnJCcmFuZHMgPSBbXTtcclxuXHRcclxuXHRpZiAoc2VsZWN0ZWRDb2xsZWN0aW9uID09PSAnYWxsJykge1xyXG5cdFx0T2JqZWN0LmtleXMoZGF0YU9iaikuZm9yRWFjaChrZXlzID0+IE9iamVjdC52YWx1ZXMoZGF0YU9ialtrZXlzXSkuZm9yRWFjaChjYXRlZ29yaWVzID0+IGNhdGVnb3JpZXMuZm9yRWFjaChwcm9kdWN0ID0+IHRlbXBBcnJCcmFuZHMucHVzaChwcm9kdWN0LmJyYW5kKSkpKTtcclxuXHR9IGVsc2UgaWYgKHNlbGVjdGVkQ29sbGVjdGlvbiAmJiAhc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFx0T2JqZWN0LnZhbHVlcyhkYXRhT2JqW3NlbGVjdGVkQ29sbGVjdGlvbl0pLmZvckVhY2goY2F0ZWdvcmllcyA9PiBjYXRlZ29yaWVzLmZvckVhY2gocHJvZHVjdCA9PiB0ZW1wQXJyQnJhbmRzLnB1c2gocHJvZHVjdC5icmFuZCkpKTtcclxuXHR9IGVsc2UgaWYgKHNlbGVjdGVkQ29sbGVjdGlvbiAmJiBzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRjb25zdCB0ZW1wT2JqID0gZGF0YU9ialtzZWxlY3RlZENvbGxlY3Rpb25dO1x0XHRcclxuXHRcdE9iamVjdC52YWx1ZXModGVtcE9ialtzZWxlY3RlZENhdGVnb3J5XSkuZm9yRWFjaChwcm9kdWN0ID0+IHRlbXBBcnJCcmFuZHMucHVzaChwcm9kdWN0LmJyYW5kKSk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzb3J0ZWRCcmFuZHMgPSBbLi4uKG5ldyBTZXQodGVtcEFyckJyYW5kcykpXTtcclxuXHRzb3J0ZWRCcmFuZHMuZm9yRWFjaChicmFuZEl0ZW0gPT4gYnJhbmRzQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaSBjbGFzcz1cImZpbHRlci1saXN0XCI+PGlucHV0IGNsYXNzPVwicGl4ZWwtcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBpZD1cIiR7YnJhbmRJdGVtfVwiIG5hbWU9XCJicmFuZFwiPjxsYWJlbCBmb3I9XCIke2JyYW5kSXRlbX1cIiBkYXRhLWJyYW5kPVwiJHticmFuZEl0ZW19XCI+JHticmFuZEl0ZW19PC9sYWJlbD48L2xpPmApKTtcclxuXHJcblx0c2V0TGlzdGVuZXJUb0JyYW5kcyhicmFuZHNDb250YWluZXIsIHNlbGVjdGVkQ29sbGVjdGlvbiwgc2VsZWN0ZWRDYXRlZ29yeSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dQcmljZUZpbHRlcigpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbW9uLWZpbHRlci1wcmljZScpO1xyXG5cclxuXHRjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgXHJcblx0XHQ8ZGl2IGNsYXNzPVwiaGVhZFwiPlByaWNlPC9kaXY+XHJcblx0XHQ8ZGl2IGNsYXNzPVwicHJpY2UtcmFuZ2UtYXJlYVwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwidmFsdWUtd3JhcHBlciBkLWZsZXggZmxleC1jb2x1bW5cIj5cclxuXHRcdFx0XHQ8Zm9ybSBpZD1cImZvcm1QcmljZUZpbHRlclwiPlxyXG5cdFx0XHRcdFx0PGxhYmVsIGZvcj1cIm1pblByaWNlXCIgY2xhc3M9XCJwcmljZVwiPk1pbigkKTogXHJcblx0XHRcdFx0XHRcdDxpbnB1dCBjbGFzcz1cImlucHV0LXByaWNlXCIgdHlwZT1cInRleHRcIiBuYW1lPVwibWluUHJpY2VcIiBpZD1cIm1pblByaWNlXCIgcGxhY2Vob2xkZXI9XCJtaW4gdmFsdWVcIj5cclxuXHRcdFx0XHRcdDwvbGFiZWw+XHJcblx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwibWF4UHJpY2VcIiBjbGFzcz1cInByaWNlXCI+TWF4KCQpOlxyXG5cdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJpbnB1dC1wcmljZVwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm1heFByaWNlXCIgaWQ9XCJtYXhQcmljZVwiIHBsYWNlaG9sZGVyPVwibWF4IHZhbHVlXCI+XHJcblx0XHRcdFx0XHQ8L2xhYmVsPlxyXG5cdFx0XHRcdDwvZm9ybT5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHRgKTtcclxuXHJcblx0c2V0TGlzdGVuZXJUb1ByaWNlRmlsdGVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2R1Y3RDYXJkSHRtbChjb2xsZWN0aW9uLCBjYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKSB7XHJcblx0Y29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYFxyXG5cdFx0PGRpdiBjbGFzcz1cImNvbC1tZC02IGNvbC1sZy00IHByb2R1Y3QtY2FyZFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZCB0ZXh0LWNlbnRlciBjYXJkLXByb2R1Y3RcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1wcm9kdWN0X19pbWdcIj5cclxuXHRcdFx0XHRcdDxpbWcgY2xhc3M9XCJjYXJkLWltZ1wiIHNyYz1cImltZy9wcm9kdWN0LyR7IGNvbGxlY3Rpb24gfS8keyBwcm9kdWN0LnBob3RvWzBdIH1cIiBhbHQ9XCJcIj5cclxuXHRcdFx0XHRcdDx1bCBjbGFzcz1cImNhcmQtcHJvZHVjdF9faW1nT3ZlcmxheVwiPlxyXG5cdFx0XHRcdFx0XHQ8bGk+PGJ1dHRvbiBjbGFzcz1cIm9wZW4tcHJvZHVjdFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiIGRhdGEtYnRuPVwib3Blbi1wcm9kdWN0XCI+PGkgY2xhc3M9XCJ0aS1zZWFyY2hcIiBkYXRhLWNvbGxlY3Rpb249XCIkeyBjb2xsZWN0aW9uIH1cIiBkYXRhLWNhdGVnb3J5PVwiJHsgY2F0ZWdvcnkgfVwiIGRhdGEtaWQ9XCIkeyBwcm9kdWN0LmlkIH1cIiBkYXRhLWJ0bj1cIm9wZW4tcHJvZHVjdFwiPjwvaT48L2J1dHRvbj48L2xpPlxyXG5cdFx0XHRcdFx0XHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImJ1eS1wcm9kdWN0XCIgZGF0YS1jb2xsZWN0aW9uPVwiJHsgY29sbGVjdGlvbiB9XCIgZGF0YS1jYXRlZ29yeT1cIiR7IGNhdGVnb3J5IH1cIiBkYXRhLWlkPVwiJHsgcHJvZHVjdC5pZCB9XCIgZGF0YS1idG49XCJidXktcHJvZHVjdFwiPjxpIGNsYXNzPVwidGktc2hvcHBpbmctY2FydFwiIGRhdGEtY29sbGVjdGlvbj1cIiR7IGNvbGxlY3Rpb24gfVwiIGRhdGEtY2F0ZWdvcnk9XCIkeyBjYXRlZ29yeSB9XCIgZGF0YS1pZD1cIiR7IHByb2R1Y3QuaWQgfVwiIGRhdGEtYnRuPVwiYnV5LXByb2R1Y3RcIj48L2k+PC9idXR0b24+PC9saT5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0PC91bD5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcblx0XHRcdFx0XHQ8cD4keyBjYXRlZ29yeSB9PC9wPlxyXG5cdFx0XHRcdFx0PGg0IGNsYXNzPVwiY2FyZC1wcm9kdWN0X190aXRsZVwiPjxhIGhyZWY9XCJzaW5nbGUtcHJvZHVjdC5odG1sXCIgY2xhc3M9XCJvcGVuLXByb2R1Y3RcIiBkYXRhLWNvbGxlY3Rpb249XCIkeyBjb2xsZWN0aW9uIH1cIiBkYXRhLWNhdGVnb3J5PVwiJHsgY2F0ZWdvcnkgfVwiIGRhdGEtaWQ9XCIkeyBwcm9kdWN0LmlkIH1cIiBkYXRhLWJ0bj1cIm9wZW4tcHJvZHVjdFwiPiR7IHByb2R1Y3QubmFtZSB9PC9hPjwvaDQ+XHJcblx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmQtcHJvZHVjdF9fcHJpY2VcIj4kJHsgcHJvZHVjdC5wcmljZSB9PC9wPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvZGl2PmBcclxuXHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UHJvZHVjdHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5LCBtaW4gPSAwLCBtYXggPSA5OTk5OTkpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm93LXByb2R1Y3RzLWxpc3QnKTtcclxuXHRjb25zdCBwcm9kdWN0Q29sbGVjdGlvbiA9IGRhdGFPYmpbc2VsZWN0ZWRDb2xsZWN0aW9uXTtcclxuXHRsZXQgdGVtcFByb2R1Y3RBcnIgPSBbXTtcclxuXHRjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdGlmIChzZWxlY3RlZENvbGxlY3Rpb24gPT09ICdhbGwnIHx8ICFzZWxlY3RlZENvbGxlY3Rpb24pIHtcclxuXHRcdGZvciAobGV0IGNvbGxlY3Rpb24gaW4gZGF0YU9iaikge1xyXG5cdFx0XHRsZXQgYWxsUHJvZHVjdHMgPSBkYXRhT2JqW2NvbGxlY3Rpb25dO1xyXG5cdFx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBhbGxQcm9kdWN0cykge1x0XHJcblx0XHRcdFx0YWxsUHJvZHVjdHNbY2F0ZWdvcnldLmZvckVhY2gocHJvZHVjdCA9PiB7XHJcblx0XHRcdFx0XHRpZiAoK3Byb2R1Y3QucHJpY2UgPj0gK21pbiAmJiArcHJvZHVjdC5wcmljZSA8PSArbWF4KSB7XHJcblx0XHRcdFx0XHRcdHByb2R1Y3RDYXJkSHRtbChjb2xsZWN0aW9uLCBjYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKTtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0XHR0ZW1wUHJvZHVjdEFyci5wdXNoKHByb2R1Y3QpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSBpZiAoc2VsZWN0ZWRDb2xsZWN0aW9uICYmIHNlbGVjdGVkQ2F0ZWdvcnkpIHtcclxuXHRcdE9iamVjdC52YWx1ZXMocHJvZHVjdENvbGxlY3Rpb25bc2VsZWN0ZWRDYXRlZ29yeV0pLmZvckVhY2gocHJvZHVjdCA9PiB7XHJcblx0XHRcdGlmICgrcHJvZHVjdC5wcmljZSA+PSArbWluICYmICtwcm9kdWN0LnByaWNlIDw9ICttYXgpIHtcclxuXHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5LCBwcm9kdWN0LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdHByb2R1Y3QuY29sbGVjdGlvbiA9IHNlbGVjdGVkQ29sbGVjdGlvbjtcclxuXHRcdFx0XHRwcm9kdWN0LmNhdGVnb3J5ID0gc2VsZWN0ZWRDYXRlZ29yeTtcclxuXHRcdFx0XHR0ZW1wUHJvZHVjdEFyci5wdXNoKHByb2R1Y3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fSBlbHNlIGlmIChzZWxlY3RlZENvbGxlY3Rpb24gJiYgIXNlbGVjdGVkQ2F0ZWdvcnkpIHtcclxuXHRcdGZvciAobGV0IGNhdGVnb3J5IGluIHByb2R1Y3RDb2xsZWN0aW9uKSB7XHJcblx0XHRcdHByb2R1Y3RDb2xsZWN0aW9uW2NhdGVnb3J5XS5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRcdGlmICgrcHJvZHVjdC5wcmljZSA+PSArbWluICYmICtwcm9kdWN0LnByaWNlIDw9ICttYXgpIHtcclxuXHRcdFx0XHRcdHByb2R1Y3RDYXJkSHRtbChzZWxlY3RlZENvbGxlY3Rpb24sIGNhdGVnb3J5LCBwcm9kdWN0LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gc2VsZWN0ZWRDb2xsZWN0aW9uO1xyXG5cdFx0XHRcdFx0cHJvZHVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5O1xyXG5cdFx0XHRcdFx0dGVtcFByb2R1Y3RBcnIucHVzaChwcm9kdWN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHR0ZW1wQXJyID0gWy4uLnRlbXBQcm9kdWN0QXJyXTtcclxuXHQvLyBnZXRUZW1wQXJyUHJvZHVjdHModGVtcFByb2R1Y3RBcnIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvQ29sbGVjdGlvbnMoY29udGFpbmVyKSB7XHRcclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDb2xsZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFxyXG4gICAgICAgIGlmICghc2VsZWN0ZWRDb2xsZWN0aW9uKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRzaG93UHJvZHVjdHMoc2VsZWN0ZWRDb2xsZWN0aW9uKTtcclxuXHRcdHNob3dDYXRlZ29yaWVzTGlzdChzZWxlY3RlZENvbGxlY3Rpb24sICdDYXRlZ29yaWVzJyk7XHJcblx0XHRzaG93QnJhbmRzKHNlbGVjdGVkQ29sbGVjdGlvbik7XHRcclxuXHR9KTtcclxuXHRcclxuXHRzaG93UHJvZHVjdHMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJUb0NhdGVnb3JpZXMoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1vbi1maWx0ZXItY2F0ZWdvcmllcycpO1xyXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcmllcycpO1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDb2xsZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XHJcblx0XHRcclxuXHRcdGlmICghc2VsZWN0ZWRDb2xsZWN0aW9uICYmICFzZWxlY3RlZENhdGVnb3J5KSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRzaG93UHJvZHVjdHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5KTtcclxuXHRcdHNob3dCcmFuZHMoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5KTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJUb0JyYW5kcyhicmFuZHNDb250YWluZXIsIHNlbGVjdGVkQ29sbGVjdGlvbiwgc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFxyXG5cdGJyYW5kc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctcHJvZHVjdHMtbGlzdCcpO1xyXG5cdFx0Y29uc3Qgc2VsZWN0ZWRCcmFuZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcblx0XHRjb25zdCBjb2xsZWN0aW9uT2JqID0gZGF0YU9ialtzZWxlY3RlZENvbGxlY3Rpb25dO1xyXG5cdFx0Y29uc3QgdGVtcFByb2R1Y3RBcnIgPSBbXTtcclxuXHRcdFxyXG5cdFx0aWYgKHNlbGVjdGVkQnJhbmQpIHtcclxuXHRcdFx0Y29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzZWxlY3RlZEJyYW5kICYmIHNlbGVjdGVkQ29sbGVjdGlvbiAhPT0gJ2FsbCcgJiYgc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFx0XHRjb2xsZWN0aW9uT2JqW3NlbGVjdGVkQ2F0ZWdvcnldLmZpbHRlcigocHJvZHVjdCkgPT4ge1xyXG5cdFx0XHRcdGlmIChwcm9kdWN0LmJyYW5kID09PSBzZWxlY3RlZEJyYW5kKSB7XHJcblx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoc2VsZWN0ZWRDb2xsZWN0aW9uLCBzZWxlY3RlZENhdGVnb3J5LCBwcm9kdWN0LCBjb250YWluZXIpO1xyXG5cdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gc2VsZWN0ZWRDb2xsZWN0aW9uO1xyXG5cdFx0XHRcdFx0cHJvZHVjdC5jYXRlZ29yeSA9IHNlbGVjdGVkQ2F0ZWdvcnk7XHJcblx0XHRcdFx0XHR0ZW1wUHJvZHVjdEFyci5wdXNoKHByb2R1Y3QpO1x0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHR9IGVsc2UgaWYgKHNlbGVjdGVkQnJhbmQgJiYgc2VsZWN0ZWRDb2xsZWN0aW9uICE9PSAnYWxsJyAmJiAhc2VsZWN0ZWRDYXRlZ29yeSkge1xyXG5cdFx0XHRmb3IgKGxldCBjYXRlZ29yeSBpbiBjb2xsZWN0aW9uT2JqKSB7XHJcblx0XHRcdFx0Y29sbGVjdGlvbk9ialtjYXRlZ29yeV0uZmlsdGVyKHByb2R1Y3QgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHByb2R1Y3QuYnJhbmQgPT09IHNlbGVjdGVkQnJhbmQpIHtcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoc2VsZWN0ZWRDb2xsZWN0aW9uLCBjYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKTtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gc2VsZWN0ZWRDb2xsZWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRwcm9kdWN0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcblx0XHRcdFx0XHRcdHRlbXBQcm9kdWN0QXJyLnB1c2gocHJvZHVjdCk7XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH0gZWxzZSBpZiAoc2VsZWN0ZWRCcmFuZCAmJiBzZWxlY3RlZENvbGxlY3Rpb24gPT09ICdhbGwnKSB7XHJcblx0XHRcdE9iamVjdC5rZXlzKGRhdGFPYmopLmZvckVhY2goY29sbGVjdGlvbiA9PiB7XHJcblx0XHRcdFx0bGV0IGNvbGxlY3Rpb25PYmogPSBkYXRhT2JqW2NvbGxlY3Rpb25dO1xyXG5cdFxyXG5cdFx0XHRcdGZvciAobGV0IGNhdGVnb3J5IGluIGNvbGxlY3Rpb25PYmopIHtcclxuXHRcdFx0XHRcdGNvbGxlY3Rpb25PYmpbY2F0ZWdvcnldLmZpbHRlcihwcm9kdWN0ID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb2R1Y3QuYnJhbmQgPT09IHNlbGVjdGVkQnJhbmQpIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0Q2FyZEh0bWwoY29sbGVjdGlvbiwgY2F0ZWdvcnksIHByb2R1Y3QsIGNvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdFx0cHJvZHVjdC5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcblx0XHRcdFx0XHRcdFx0dGVtcFByb2R1Y3RBcnIucHVzaChwcm9kdWN0KTtcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1x0XHRcclxuXHRcdH1cclxuXHRcdC8vIGdldFRlbXBBcnJQcm9kdWN0cyh0ZW1wUHJvZHVjdEFycik7XHJcblx0XHR0ZW1wQXJyID0gWy4uLnRlbXBQcm9kdWN0QXJyXVx0XHRcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGlzdGVuZXJUb1Byb2R1Y3RDYXJkKGNvbnRhaW5lcikge1xyXG5cdGNvbnN0IG9wZW5Qcm9kdWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9wZW4tcHJvZHVjdCcpO1xyXG5cdC8vIGNvbnN0IGJ1eVByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV5LXByb2R1Y3QnKTtcclxuXHJcblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRjb25zdCBwcm9kdWN0SWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcblx0XHRjb25zdCBwcm9kdWN0Q29sbGVjdGlvbiA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xyXG5cdFx0bGV0IGJ0biA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnRuJyk7XHRcdFxyXG5cdFx0XHJcblx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdJJykge1xyXG5cdFx0XHRidG4gPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnRuJyk7XHRcclxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHRcdFx0XHRcdFxyXG5cdFx0fVx0XHRcclxuXHJcblx0XHRpZiAoYnRuID09PSAnb3Blbi1wcm9kdWN0Jykge1xyXG5cclxuXHRcdFx0c2V0RGF0YUluTG9jYWxTdG9yYWdlKHByb2R1Y3RDb2xsZWN0aW9uLCBwcm9kdWN0SWQpO1xyXG5cdFx0XHRvcGVuUHJvZHVjdC5mb3JFYWNoKGJ0biA9PiBsb2NhdGlvbi5ocmVmPVwiL3NpbmdsZS1wcm9kdWN0Lmh0bWxcIik7XHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fSBlbHNlIGlmIChidG4gPT09ICdidXktcHJvZHVjdCcpIHtcclxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGRhdGFPYmpbcHJvZHVjdENvbGxlY3Rpb25dO1xyXG5cdFx0XHRsZXQgaXRlbSA9IHt9O1xyXG5cclxuXHRcdFx0T2JqZWN0LnZhbHVlcyhjb2xsZWN0aW9uKS5mb3JFYWNoKGNhdGVnb3JpZXMgPT4ge1xyXG5cdFx0XHRcdGNhdGVnb3JpZXMuZm9yRWFjaChwcm9kdWN0ID0+IHtcclxuXHRcdFx0XHRcdGlmIChwcm9kdWN0SWQgPT09IHByb2R1Y3QuaWQpIHtcclxuXHRcdFx0XHRcdFx0aXRlbS5jb2xsZWN0aW9uID0gcHJvZHVjdENvbGxlY3Rpb24sXHJcblx0XHRcdFx0XHRcdGl0ZW0uaWQgPSBwcm9kdWN0SWQ7XHJcblx0XHRcdFx0XHRcdGl0ZW0ubmFtZSA9IHByb2R1Y3QubmFtZTtcclxuXHRcdFx0XHRcdFx0aXRlbS5waG90byA9IHByb2R1Y3QucGhvdG9bMF07XHJcblx0XHRcdFx0XHRcdGl0ZW0ucHJpY2UgPSBwcm9kdWN0LnByaWNlO1xyXG5cdFx0XHRcdFx0XHRpdGVtLnF1YW50aXR5ID0gXCIxXCI7XHJcblx0XHRcdFx0XHRcdGl0ZW0uc2l6ZSA9IHByb2R1Y3Quc2l6ZVswXTtcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHRcdFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHNldEJ1eVByb2R1Y3RJbkxTKGl0ZW0pO1x0XHR9XHRcdFxyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvUHJpY2VGaWx0ZXIoKSB7XHJcblx0Y29uc3QgZm9ybVByaWNlID0gZG9jdW1lbnQuZm9ybXMuZm9ybVByaWNlRmlsdGVyO1xyXG5cdFxyXG5cdGZvcm1QcmljZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG1pblZhbHVlUHJpY2UgPSBmb3JtUHJpY2UuZWxlbWVudHMubWluUHJpY2UudmFsdWU7XHJcblx0XHRcdGNvbnN0IG1heFZhbHVlUHJpY2UgPSBmb3JtUHJpY2UuZWxlbWVudHMubWF4UHJpY2UudmFsdWU7XHRcdFx0XHJcblxyXG5cdFx0XHRwcmljZUZpbHRlcihtaW5WYWx1ZVByaWNlLCBtYXhWYWx1ZVByaWNlKTtcclxuXHRcdFx0XHJcblx0XHR9LCAzMDAwKTtcclxuXHR9KTtcdFxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvU29ydFNlbGVjdGlvbih0ZW1wQXJyKSB7XHJcblx0Y29uc3Qgc2VsZWN0aW9uU29ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXNvcnRpbmcnKTtcclxuXHRjb25zdCBzZWxlY3Rpb25RdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXNob3ctcXVhbnRpdHknKTtcclxuXHRjb25zdCBwcm9kdWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvdy1wcm9kdWN0cy1saXN0Jyk7XHJcblxyXG5cdC8vIHNlbGVjdGlvblNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzb3J0UHJvZHVjdHMoc2VsZWN0aW9uU29ydC52YWx1ZSwgcHJvZHVjdENvbnRhaW5lcikpO1xyXG5cdC8vIHNlbGVjdGlvblF1YW50aXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd1F1YW50aXR5UHJvZHVjdHNPblRoZVBhZ2Uoc2VsZWN0aW9uUXVhbnRpdHkudmFsdWUsIHByb2R1Y3RDb250YWluZXIpKTtcclxuXHRzZWxlY3Rpb25Tb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc29ydFByb2R1Y3RzKHNlbGVjdGlvblNvcnQudmFsdWUsIHByb2R1Y3RDb250YWluZXIsIHRlbXBBcnIpKTtcclxuXHRzZWxlY3Rpb25RdWFudGl0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dRdWFudGl0eVByb2R1Y3RzT25UaGVQYWdlKHNlbGVjdGlvblF1YW50aXR5LnZhbHVlLCBwcm9kdWN0Q29udGFpbmVyLCB0ZW1wQXJyKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByaWNlRmlsdGVyKG1pbiwgbWF4KSB7XHJcblx0Y29uc3QgZm9ybUNvbGxlY3Rpb24gPSBkb2N1bWVudC5mb3Jtcy5mb3JtQ29sbGVjdGlvbjtcclxuXHRjb25zdCBmb3JtQ2F0ZWdvcmllcyA9IGRvY3VtZW50LmZvcm1zLmZvcm1DYXRlZ29yaWVzO1xyXG5cdGNvbnN0IGZvcm1CcmFuZHMgPSBkb2N1bWVudC5mb3Jtcy5mb3JtQnJhbmRzO1xyXG5cdGxldCBmb3JtQXJyID0gW2Zvcm1Db2xsZWN0aW9uLCBmb3JtQ2F0ZWdvcmllcywgZm9ybUJyYW5kc107XHJcblx0bGV0IHNlbGVjdGVkQ29sbGVjdGlvbjtcclxuXHRsZXQgc2VsZWN0ZWRDYXRlZ29yeTtcclxuXHJcblx0aWYgKHByaWNlRmlsdGVyVmFsaWRhdGlvbihtaW4sIG1heCkpIHtcclxuXHRcdGZvcm1BcnIuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0Zm9yIChsZXQgaW5wdXQgb2YgaXRlbS5lbGVtZW50cykge1xyXG5cdFx0XHRcdGlmIChpbnB1dC5jaGVja2VkKSB7XHJcblx0XHJcblx0XHRcdFx0XHRpZiAoaW5wdXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkQ29sbGVjdGlvbiA9IGlucHV0LmlkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZiAoaW5wdXQubmFtZSA9PT0gJ2NhdGVnb3JpZXMnKSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkQ2F0ZWdvcnkgPSBpbnB1dC5pZDtcclxuXHRcdFx0XHRcdH1cclxuXHRcclxuXHRcdFx0XHRcdHNob3dQcm9kdWN0cyhzZWxlY3RlZENvbGxlY3Rpb24sIHNlbGVjdGVkQ2F0ZWdvcnksIG1pbiwgbWF4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByaWNlRmlsdGVyVmFsaWRhdGlvbihtaW4sIG1heCkge1xyXG5cdGNvbnN0IG1pbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pblByaWNlJyk7XHJcblx0Y29uc3QgbWF4SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF4UHJpY2UnKTtcclxuXHJcblx0aWYgKGlzTmFOKCttaW4pIHx8ICFtaW4pIHtcclxuXHRcdG1pbklucHV0LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcblx0XHRtYXhJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0gZWxzZSBpZiAoaXNOYU4oK21heCkgfHwgIW1heCkge1xyXG5cdFx0bWluSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRcdG1heElucHV0LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdFxyXG5cdG1pbklucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcblx0bWF4SW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNvcnRQcm9kdWN0cyhzb3J0T3B0aW9uLCBwcm9kdWN0Q29udGFpbmVyKSB7XHJcblx0bGV0IGFycmF5T2ZQcm9kdWN0c09iaiA9IFtdO1xyXG5cclxuXHRpZiAoQXJyYXkuaXNBcnJheSh0ZW1wQXJyWzBdKSkgeyBcclxuXHRcdHRlbXBBcnIuZm9yRWFjaChpdGVtID0+IGl0ZW0uZm9yRWFjaCh2YWx1ZSA9PiBhcnJheU9mUHJvZHVjdHNPYmoucHVzaCh2YWx1ZSkpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0YXJyYXlPZlByb2R1Y3RzT2JqID0gdGVtcEFycjtcclxuXHR9XHJcblxyXG5cdHByb2R1Y3RDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdHN3aXRjaCAoc29ydE9wdGlvbikge1xyXG5cdFx0Y2FzZSAnZGVmYXVsdCc6XHRcdFx0XHJcblx0XHRcdGFycmF5T2ZQcm9kdWN0c09iai5zb3J0KGFycmF5U29ydGluZ0J5SUQpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0XHJcblx0XHRjYXNlICdwb3B1bGFyaXR5JzogXHJcblx0XHRcdGFycmF5T2ZQcm9kdWN0c09iai5zb3J0KHJhbmRvbVNvcnRpbmcpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRjYXNlICduZXdlc3QtYXJyaXZhbHMnOiBcclxuXHRcdFx0YXJyYXlPZlByb2R1Y3RzT2JqLnNvcnQocmFuZG9tU29ydGluZyk7XHRcdFx0XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcclxuXHRcdGNhc2UgJ3ByaWNlLWxvdy10by1oaWdoJzogXHJcblx0XHRcdGFycmF5T2ZQcm9kdWN0c09iai5zb3J0KGFycmF5U29ydGluZyk7XHRcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdFxyXG5cdFx0Y2FzZSAncHJpY2UtaGlnaC10by1sb3cnOiBcclxuXHRcdFx0YXJyYXlPZlByb2R1Y3RzT2JqLnNvcnQoYXJyYXlTb3J0aW5nKS5yZXZlcnNlKCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0YXJyYXlPZlByb2R1Y3RzT2JqLmZvckVhY2goaXRlbSA9PiBwcm9kdWN0Q2FyZEh0bWwoaXRlbS5jb2xsZWN0aW9uLCBpdGVtLmNhdGVnb3J5LCBpdGVtLCBwcm9kdWN0Q29udGFpbmVyKSk7XHJcblx0dGVtcEFyciA9IGFycmF5T2ZQcm9kdWN0c09iajtcclxufVxyXG5cclxuZnVuY3Rpb24gYXJyYXlTb3J0aW5nKHByb2R1Y3RBLCBwcm9kdWN0Qikge1xyXG5cdGlmICgrcHJvZHVjdEEucHJpY2UgPiArcHJvZHVjdEIucHJpY2UpIHtcclxuXHRcdHJldHVybiAxO1xyXG5cdH0gZWxzZSBpZiAoK3Byb2R1Y3RBLnByaWNlID09PSArcHJvZHVjdEIucHJpY2UpIHtcclxuXHRcdHJldHVybiAwO1xyXG5cdH0gZWxzZSBpZiAoK3Byb2R1Y3RBLnByaWNlIDwgK3Byb2R1Y3RCLnByaWNlKSB7XHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcnJheVNvcnRpbmdCeUlEKHByb2R1Y3RBLCBwcm9kdWN0Qikge1xyXG5cdGlmICgrcHJvZHVjdEEuaWQgPiArcHJvZHVjdEIuaWQpIHtcclxuXHRcdHJldHVybiAxO1xyXG5cdH0gZWxzZSBpZiAoK3Byb2R1Y3RBLmlkID09PSArcHJvZHVjdEIuaWQpIHtcclxuXHRcdHJldHVybiAwO1xyXG5cdH0gZWxzZSBpZiAoK3Byb2R1Y3RBLmlkIDwgK3Byb2R1Y3RCLmlkKSB7XHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByYW5kb21Tb3J0aW5nKCkge1xyXG5cdHJldHVybiBNYXRoLnJhbmRvbSgpIC0gMC41O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UXVhbnRpdHlQcm9kdWN0c09uVGhlUGFnZShzb3J0T3B0aW9uLCBwcm9kdWN0Q29udGFpbmVyKSB7XHJcblx0cHJvZHVjdENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0Y29uc3QgcHJvZHVjdHNBcnIgPSBbLi4udGVtcEFycl07XHJcblx0bGV0IG5ld0FyciA9IFtdO1xyXG5cdGxldCBhcnJQYXJ0cyA9IE1hdGguY2VpbChwcm9kdWN0c0Fyci5sZW5ndGggLyArc29ydE9wdGlvbik7XHRcclxuXHRcclxuXHRcclxuXHRpZiAoc29ydE9wdGlvbiA9PT0gJ3Nob3cgYWxsJykge1xyXG5cdFx0dGVtcEFyci5mb3JFYWNoKGl0ZW0gPT4gcHJvZHVjdENhcmRIdG1sKGl0ZW0uY29sbGVjdGlvbiwgaXRlbS5jYXRlZ29yeSwgaXRlbSwgcHJvZHVjdENvbnRhaW5lcikpO1xyXG5cdFx0c2hvd1BhZ2VzUGFnaW5hdGlvbkJ1dHRvbnMoJ2FsbCcpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH0gXHJcblxyXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IGFyclBhcnRzOyBpKyspIHtcclxuXHRcdGxldCBhcnIgPSBwcm9kdWN0c0Fyci5zbGljZShqLCArc29ydE9wdGlvbiArIGopO1x0XHRcdFx0XHJcblx0XHRqICs9ICtzb3J0T3B0aW9uO1xyXG5cdFx0bmV3QXJyLnB1c2goYXJyKTtcclxuXHR9XHJcblxyXG5cdHRlbXBBcnIgPSBuZXdBcnI7XHJcblx0c2hvd1BhZ2VzUGFnaW5hdGlvbkJ1dHRvbnMoYXJyUGFydHMsIHRlbXBBcnIsIHByb2R1Y3RDb250YWluZXIpO1xyXG5cclxuXHR0ZW1wQXJyWzBdLmZvckVhY2goaXRlbSA9PiBwcm9kdWN0Q2FyZEh0bWwoaXRlbS5jb2xsZWN0aW9uLCBpdGVtLmNhdGVnb3J5LCBpdGVtLCBwcm9kdWN0Q29udGFpbmVyKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dQYWdlc1BhZ2luYXRpb25CdXR0b25zKGxlbmd0aCwgbmV3QXJyLCBwcm9kdWN0Q29udGFpbmVyKSB7XHJcblx0Y29uc3QgbnVtYmVyc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXBhZ2VzJyk7XHJcblx0bnVtYmVyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHRcclxuXHRpZiAobGVuZ3RoID09PSAnYWxsJyB8fCBsZW5ndGggPT09IDEpIHJldHVybjtcclxuXHJcblx0Y29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcblx0bGlzdC5jbGFzc0xpc3QuYWRkKCdudW1iZXItcGFnZXMtbGlzdCcpO1xyXG5cdG51bWJlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdCk7XHJcblxyXG5cdGxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGxpIGNsYXNzPVwicGFnZXMtaXRlbVwiIGRhdGEtcGFnZS1udW1iZXI9XCJwcmV2XCI+PDwgUHJldjxsaT4nKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGggKyAxOyBpKyspIHtcclxuXHRcdGlmIChpID09PSAxKSB7XHJcblx0XHRcdGxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGxpIGNsYXNzPVwicGFnZXMtaXRlbSBwYWdlcy1pdGVtLW51bWJlciBhY3RpdmVcIiBkYXRhLXBhZ2UtbnVtYmVyPVwiJHtpfVwiPiR7aX08bGk+YCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaSBjbGFzcz1cInBhZ2VzLWl0ZW0gcGFnZXMtaXRlbS1udW1iZXJcIiBkYXRhLXBhZ2UtbnVtYmVyPVwiJHtpfVwiPiR7aX08bGk+YCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRsaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJzxsaSBjbGFzcz1cInBhZ2VzLWl0ZW1cIiBkYXRhLXBhZ2UtbnVtYmVyPVwibmV4dFwiPk5leHQgPj48bGk+Jyk7XHJcblxyXG5cdHNldExpc3RlbmVyVG9QYWdlQnV0dG9ucyhsaXN0LCBuZXdBcnIsIHByb2R1Y3RDb250YWluZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lclRvUGFnZUJ1dHRvbnMobGlzdCwgYXJyYXksIGNvbnRhaW5lcikge1xyXG5cdGxldCBpbmRleCA9IDA7XHJcblx0Y29uc3QgYnRuTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlcy1pdGVtLW51bWJlcicpO1xyXG5cclxuXHRsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRjb25zdCBidG4gPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UtbnVtYmVyJyk7XHJcblx0XHRcclxuXHRcdFx0XHJcblx0XHRcclxuXHRcdGlmICghYnRuKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSBpZiAoYnRuID09PSAnbmV4dCcpIHtcclxuXHRcdFx0KytpbmRleDtcclxuXHJcblx0XHRcdGlmIChpbmRleCA9PT0gYXJyYXkubGVuZ3RoKSB7XHJcblx0XHRcdFx0aW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIGlmIChidG4gPT09ICdwcmV2Jykge1xyXG5cdFx0XHQtLWluZGV4O1xyXG5cclxuXHRcdFx0aWYgKGluZGV4IDwgMCkge1xyXG5cdFx0XHRcdGluZGV4ID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGV4ID0gK2J0biAtMTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKGluZGV4ID09PSBhcnJheS5sZW5ndGgpIHtcclxuXHRcdFx0aW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xyXG5cdFx0fSBlbHNlIGlmIChpbmRleCA8IDApIHtcclxuXHRcdFx0aW5kZXggPSAwO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRidG5MaXN0LmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykgJiYgK2J0biAhPT0gaW5kZXgpIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0YnRuTGlzdFtpbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHRcdFxyXG5cclxuXHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHRcdGFycmF5W2luZGV4XS5mb3JFYWNoKHByb2R1Y3QgPT4gcHJvZHVjdENhcmRIdG1sKHByb2R1Y3QuY29sbGVjdGlvbiwgcHJvZHVjdC5jYXRlZ29yeSwgcHJvZHVjdCwgY29udGFpbmVyKSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExpc3RlbmVyc1Rvc2VhcmNoQXJlYSgpIHtcclxuXHRjb25zdCBkYXRhU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaFByb2R1Y3QnKTtcclxuXHRjb25zdCBidG5TZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdEJ0blNlYXJjaCcpO1xyXG5cdFxyXG5cdGRhdGFTZWFyY2gub25pbnB1dCA9ICgpID0+IHtcclxuXHRcdHNlYXJjaFByb2R1Y3QoZGF0YVNlYXJjaC52YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XHJcblx0fVxyXG5cdFxyXG5cdGJ0blNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlYXJjaFByb2R1Y3QoZGF0YVNlYXJjaC52YWx1ZSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hQcm9kdWN0KHN0cmluZykge1xyXG5cdGNvbnN0IHByb2R1Y3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3QtY2FyZCcpO1xyXG5cclxuXHRpZiAoc3RyaW5nICE9PSAnJykge1xyXG5cdFx0cHJvZHVjdExpc3QuZm9yRWFjaChwcm9kdWN0ID0+IHtcclxuXHRcdFx0aWYgKHByb2R1Y3QuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKCkuc2VhcmNoKHN0cmluZykgPT09IC0xKSB7XHJcblx0XHRcdFx0cHJvZHVjdC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvZHVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRwcm9kdWN0TGlzdC5mb3JFYWNoKHByb2R1Y3QgPT4gcHJvZHVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0RGF0YUluTG9jYWxTdG9yYWdlKGNvbGxlY3Rpb24sIGlkKSB7XHJcblx0Y29uc29sZS5sb2coY29sbGVjdGlvbik7XHJcblx0Y29uc29sZS5sb2coaWQpO1xyXG5cdFxyXG5cdGxldCBkYXRhID0ge1xyXG5cdFx0Y29sbGVjdGlvbjogY29sbGVjdGlvbiwgXHJcblx0XHRpZDogaWRcclxuXHR9O1xyXG5cclxuXHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGF0YVNlbGVjdGVkT2JqJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRCdXlQcm9kdWN0SW5MUyhpdGVtKSB7XHJcblx0bGV0IGRhdGFDYXJkR29vZHMgPSBbXTtcclxuXHJcblx0aWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhQ2FydCcpKSB7XHJcblxyXG5cdFx0ZGF0YUNhcmRHb29kcyA9IGdldERhdGFGcm9tTFNTaG9wcGluZ0NhcnQoKTtcdFx0XHJcblx0fVxyXG5cclxuXHRkYXRhQ2FyZEdvb2RzLnB1c2goaXRlbSk7XHJcblxyXG5cdGxldCBxdWFudGl0eSA9IGRhdGFDYXJkR29vZHMubGVuZ3RoO1xyXG5cdHNob3dRdWFudGl0eUdvb2RzSW5CYXNrZXQocXVhbnRpdHkpO1xyXG5cclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGF0YUNhcnQnLCBKU09OLnN0cmluZ2lmeShkYXRhQ2FyZEdvb2RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFGcm9tTFNTaG9wcGluZ0NhcnQoKSB7XHJcblx0bGV0IGRhdGFDYXJkR29vZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhQ2FydCcpKTtcclxuXHRyZXR1cm4gZGF0YUNhcmRHb29kcztcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1F1YW50aXR5R29vZHNJbkJhc2tldChxdWFudGl0eUdvb2RzKSB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3cnKS5pbm5lckhUTUwgPSBxdWFudGl0eUdvb2RzO1xyXG59Il19
